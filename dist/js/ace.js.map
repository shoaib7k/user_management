{"version":3,"file":"ace.js","sources":["../../js/src/util.js","../../js/src/general.js","../../js/src/scrollbar.js","../../js/src/sidebar.js","../../js/src/aside.js","../../js/src/toaster.js","../../js/src/widget.js","../../js/src/fileinput.js","../../js/src/wysiwyg.js","../../js/src/tab-scroll.js","../../js/src/tab-swipe.js","../../js/src/scroll-top.js","../../js/src/sticky.js","../../js/src/index.umd.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): util.js\r\n   Some Utility Functions\r\n*/\r\n\r\n// import $ from 'jquery'\r\n// import bootstrap from 'bootstrap'\r\n\r\nclass Util {\r\n  static isReducedMotion () {\r\n    return window.matchMedia('(prefers-reduced-motion)').matches\r\n  }\r\n\r\n  static isRTL () {\r\n    return document.documentElement.classList.contains('rtl') || document.documentElement.dir === 'rtl'\r\n  }\r\n\r\n  static hasClosest () {\r\n    return 'closest' in document.documentElement\r\n  }\r\n\r\n  /**\r\n  static hasTransitionStart () {\r\n    if (Util._supportsTransitionStart !== null) return Util._supportsTransitionStart\r\n\r\n    Util._supportsTransitionStart = 'ontransitionstart' in window// doesn't work in Chrome\r\n    if (!Util._supportsTransitionStart) {\r\n      var tmp = $('<div style=\"opacity: 0; transition: opacity 1ms\" />').appendTo(document.body)\r\n      tmp.on('transitionstart', function () {\r\n        Util._supportsTransitionStart = true\r\n      }).on('transitionend', function () {\r\n        tmp.remove()\r\n      })\r\n\r\n      tmp.get(0).offsetTop\r\n      tmp.css('opacity', '1')\r\n    }\r\n\r\n    return Util._supportsTransitionStart\r\n  }\r\n  */\r\n\r\n  static getScrollbarInfo (recalc = false) {\r\n    if (recalc === false && Util._scrollbarInfo !== null) return Util._scrollbarInfo\r\n\r\n    const scrollDiv = document.createElement('div')\r\n    scrollDiv.style.overflow = 'scroll'\r\n    scrollDiv.style.position = 'absolute'\r\n    scrollDiv.style.width = '50px'\r\n    scrollDiv.style.height = '50px'\r\n\r\n    const scrollbar = {}\r\n\r\n    document.body.appendChild(scrollDiv)\r\n    scrollbar.width = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth\r\n    document.documentElement.style.setProperty('--scrollbar-width', scrollbar.width + 'px')\r\n\r\n    let thinWidth = scrollbar.width\r\n    if (window.CSS) {\r\n      scrollbar.thin = window.CSS.supports('scrollbar-width', 'thin')// currently only firefox 64+ supports it\r\n      if (scrollbar.thin) {\r\n        scrollDiv.style['scrollbar-width'] = 'thin'\r\n        thinWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth\r\n      }\r\n\r\n      scrollbar.overlay = window.CSS.supports('overflow', 'overlay')\r\n    } else {\r\n      scrollbar.thin = false\r\n\r\n      scrollDiv.style.overflow = 'overlay'// Webkit/Chromium based browsers support it\r\n      scrollbar.overlay = scrollbar.width > 0 && scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth === 0\r\n    }\r\n    document.documentElement.style.setProperty('--moz-scrollbar-thin', thinWidth + 'px')\r\n\r\n    scrollDiv.style['-ms-overflow-style'] = '-ms-autohiding-scrollbar'// IE\r\n    scrollbar.autohide = scrollbar.width > 0 && scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth === 0\r\n\r\n    /// //////////////////////////////////\r\n    document.body.removeChild(scrollDiv)\r\n    Util._scrollbarInfo = scrollbar\r\n\r\n    return Util._scrollbarInfo\r\n  }\r\n}\r\nUtil._supportsTransitionStart = null// static property\r\nUtil._scrollbarInfo = null// static property\r\n\r\n/**\r\n* ------------------------------------------------------------------------\r\n* jQuery\r\n* ------------------------------------------------------------------------\r\n*/\r\n\r\nexport default Util\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): general.js\r\n   General Ace Functions\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport Util from './util'\r\n\r\nclass Basic {\r\n  static _HandleBasics () {\r\n    // for IE\r\n    if (window.NodeList && !window.NodeList.prototype.forEach) {\r\n      window.NodeList.prototype.forEach = Array.prototype.forEach\r\n    }\r\n\r\n    Basic._handleAlerts()\r\n\r\n    Basic._handleDropdowns()\r\n\r\n    Basic._handleNavbar()\r\n\r\n    Basic._handleOther()\r\n\r\n    $(document.body).addClass('is-document-loaded')\r\n  }\r\n\r\n  /**\r\n   * collapse .alert instead of fading it out\r\n  */\r\n  static _handleAlerts () {\r\n    $(document)\r\n      .on('close.bs.alert.alert-collapse', '.alert.alert-collapse', function (e) {\r\n        e.preventDefault()\r\n        $(this).wrap('<div class=\"collapse show alert-collapse\"></div>').parent().collapse('hide').one('hidden.bs.collapse.alert-collapse', function () {\r\n          $(this).remove()\r\n        })\r\n      })\r\n  }\r\n\r\n  /// ////////\r\n\r\n  static _handleDropdowns () {\r\n    // dismiss (hide) a dropdown menu\r\n    const _dismissDropdown = function () {\r\n      const menu = $(this).closest('.dropdown-menu')\r\n      const dropdown = menu.parent()\r\n      const toggle = dropdown.find('[data-toggle=dropdown]')\r\n\r\n      toggle.dropdown('hide')\r\n      menu.removeClass('show')\r\n      dropdown.removeClass('show')\r\n    }\r\n\r\n    // hide dropdown when clicked on an element inside it with `data-dismiss=dropdown` attribute\r\n    $(document)\r\n      .on('click', '[data-dismiss=dropdown]', function (e) {\r\n        e.preventDefault()\r\n        _dismissDropdown.call(e.target)\r\n      })\r\n\r\n    // hide dropdown when a `form` inside it is submitted\r\n    $(document)\r\n      .on('submit', '.dropdown-menu form[data-submit=dismiss]', function (e) {\r\n        e.preventDefault()\r\n        _dismissDropdown.call(e.target)\r\n      })\r\n\r\n    // don't hide dropdown when clicked inside a `.dropdown-clickable` element\r\n    $(document)\r\n      .on('click.dropdown-clickable', '.dropdown-clickable', function (e) {\r\n        e.stopImmediatePropagation()\r\n      })\r\n\r\n    // hide `body` scrollbars when dropdowns are opened in mobile view\r\n    $(document)\r\n      .on('shown.bs.dropdown', '.dropdown.dd-backdrop', function () {\r\n      // check `display` of .dropdown::before, if not visible it means `backdrop` is not visible (applied)\r\n        if (window.getComputedStyle(this, ':before').display === 'none') return\r\n\r\n        // the device width is such that backdrop is visible (.dropdown-inner is visible)\r\n        const scrollbarInfo = Util.getScrollbarInfo()\r\n        if (scrollbarInfo.width === 0) {\r\n          document.body.classList.add('mob-dropdown-body')\r\n        }\r\n        this.classList.add('backdrop-shown')// used later to add `.navbar-modal` class to .navbar\r\n\r\n        $(this).one('hidden.bs.dropdown', function () {\r\n          document.body.classList.remove('mob-dropdown-body')\r\n          this.classList.remove('backdrop-shown')\r\n        })\r\n      })\r\n  }\r\n\r\n  /// ////////\r\n\r\n  static _handleNavbar () {\r\n    // hide `.navbar-collapse` when clicked on it (specifically on the backdrop in mobile view)\r\n    $(document)\r\n      .on('click', '.navbar-backdrop.collapse.show', function (e) {\r\n        if (e.target === this) $(this).collapse('hide')\r\n      })\r\n\r\n    // hide dropdown when a `form` inside it is submitted\r\n    $(document)\r\n      .on('submit', '.navbar-collapse.show form[data-submit=dismiss]', function (e) {\r\n        e.preventDefault()\r\n        $(this).closest('.navbar-collapse').collapse('hide')\r\n      })\r\n\r\n    // when navbar or a dropdown-menu inside it is displayed, move focus to the \".autofocus\" element.\r\n    // For example a search box can be .autofocus\r\n    $(document)\r\n      .on('shown.bs.dropdown', '.navbar .dropdown', function () {\r\n        $(this).find('.autofocus').focus()\r\n      })\r\n      .on('shown.bs.collapse', '.navbar-collapse', function () {\r\n        $(this).find('.autofocus').focus()\r\n\r\n        // also hide body scrollbars in mobile devices\r\n        if (this.classList.contains('navbar-backdrop')) {\r\n          const scrollbarInfo = Util.getScrollbarInfo()\r\n          if (scrollbarInfo.width === 0) {\r\n            document.body.classList.add('mob-navbar-body')\r\n          }\r\n        }\r\n      })\r\n      .on('hidden.bs.collapse', function () {\r\n        document.body.classList.remove('mob-navbar-body')\r\n      })\r\n      .on('show.bs.collapse', function () {\r\n        // hide other 'shown/open' ones\r\n        $('.navbar-collapse.show').css('transition-duration', '1ms').collapse('hide').css('transition-duration', '')\r\n      })\r\n\r\n    // if navbar dropdowns are not entirely inside window area, move them accordingly\r\n    const _adjustDropdown = function () {\r\n      const isRTL = Util.isRTL()\r\n      const isRightAligned = this.classList.contains('dropdown-menu-right')\r\n\r\n      const _dir = !isRightAligned ? (!isRTL ? 'left' : 'right') : (!isRTL ? 'right' : 'left')\r\n      const prop = 'margin-' + _dir\r\n\r\n      this.style.removeProperty(prop)\r\n\r\n      let moveBy = 0\r\n      const rect = this.getBoundingClientRect()\r\n      if (rect.left < 0) {\r\n        moveBy = parseInt(-1 * rect.left) + 5\r\n      } else {\r\n        const sw = document.body.scrollWidth\r\n        if (rect.right > sw) {\r\n          moveBy = parseInt(sw - rect.right - 5)\r\n        }\r\n      }\r\n\r\n      if (moveBy < 5) return\r\n\r\n      if (isRightAligned) moveBy *= -1\r\n      this.style.setProperty(prop, moveBy + 'px', 'important')\r\n    }\r\n\r\n    const _closest = 'closest' in document.documentElement\r\n    $(document)\r\n      .on('transitionstart.adjust', '.navbar .dropdown-mega .dropdown-menu', function (ev) {\r\n        if (ev.target !== this || ev.originalEvent.propertyName !== 'transform') return\r\n        _adjustDropdown.call(this)\r\n      })\r\n      .on('shown.bs.dropdown', '.navbar .dropdown', function () {\r\n        if (this.classList.contains('dropdown-mega')) {\r\n          const dropdown = this.querySelector('.dropdown-menu[data-display=\"static\"]')\r\n          if (dropdown !== null) _adjustDropdown.call(dropdown)\r\n        }\r\n\r\n        // when a .dropdown is opened, add .navbar-open to increase z-index, so that dropdowns go above 'asides', etc\r\n        if (_closest) {\r\n          const navbar = this.closest('.navbar')\r\n          if (this.classList.contains('backdrop-shown')) navbar.classList.add('navbar-modal')\r\n          else navbar.classList.add('navbar-open')\r\n        }\r\n      })\r\n      .on('hidden.bs.dropdown', '.navbar .dropdown', function () {\r\n        if (_closest) {\r\n          const navbar = this.closest('.navbar')\r\n          navbar.classList.remove('navbar-open')\r\n          navbar.classList.remove('navbar-modal')\r\n        }\r\n      })\r\n  }\r\n\r\n  /// ////////\r\n\r\n  static _handleOther () {\r\n    document.querySelectorAll('.input-floating-label input').forEach((inp) => {\r\n      if (inp.value !== '') inp.classList.add('has-content')\r\n      else inp.classList.remove('has-content')\r\n    })\r\n\r\n    document.addEventListener('focusout', (ev) => {\r\n      const inp = ev.target\r\n      if ('matches' in inp) {\r\n        if (!inp.matches('.input-floating-label input')) return\r\n      } else if ('msMatchesSelector' in inp && !inp.msMatchesSelector('.input-floating-label input')) return\r\n\r\n      if (inp.value !== '') inp.classList.add('has-content')\r\n      else inp.classList.remove('has-content')\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  Basic._HandleBasics()\r\n}\r\n\r\nexport default Basic\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): scrollbar.js\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceScroll'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.scroll'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  ACE_SCROLL: '[ace-scroll]',\r\n  DATA_ACE_SCROLL: '[data-ace-scroll]'\r\n}\r\n\r\nconst DefaultType = {\r\n  type: 'string',\r\n  smooth: 'boolean',\r\n\r\n  height: '(number|null)',\r\n  lock: 'boolean',\r\n\r\n  ignore: '(string|null)',\r\n\r\n  plugin: 'string',\r\n  options: '(object|null)', // plugin settings\r\n\r\n  color: '(string|null)',\r\n  autohide: '(boolean|null)'\r\n}\r\n\r\nconst Default = {\r\n  type: 'native',\r\n  smooth: false,\r\n\r\n  height: null,\r\n  lock: false,\r\n\r\n  ignore: null,\r\n\r\n  plugin: 'SimpleBar',\r\n  options: null,\r\n\r\n  color: null,\r\n  autohide: true\r\n}\r\n\r\nclass Scrollbar {\r\n  constructor (element, config) {\r\n    this._element\t= element\r\n    this._config = this._getConfig(config)\r\n\r\n    this._scrollbarInfo = Util.getScrollbarInfo()\r\n\r\n    this.enableScrollbars()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  enableScrollbars () {\r\n    /**\r\n    this._element.scrollTop = 0\r\n    // For firefox. Because it has persistent scroll position on page reload\r\n    // which doesn't look good when changing overflow: hidden to overflow: scroll on hover\r\n    */\r\n\r\n    // no scrollbars when specified\r\n    if (this._config.ignore !== null) {\r\n      if (this._config.ignore === 'mobile' && this._scrollbarInfo.width === 0 && 'ontouchstart' in window && window.matchMedia('(max-width: 840px)').matches) return\r\n      else if (this._config.ignore === 'desktop' && this._scrollbarInfo.width > 0) return\r\n    }\r\n\r\n    this.update(this._config.height)\r\n    this.lock(this._config.lock)\r\n\r\n    this._element.classList.remove('ace-scroll', 'ace-scroll-mob', 'ace-scroll-wrap')\r\n    if (this._config.type === 'native') {\r\n      this._addNativeScrolls()\r\n    } else if (this._config.type === 'auto') {\r\n      this._preferNativeScrolls()\r\n    } else if (this._config.type === 'plugin') {\r\n      this._addPluginScrolls()\r\n    }\r\n  }\r\n\r\n  update (_height) {\r\n    if (!_height) return\r\n    if (!isNaN(_height)) _height += 'px'\r\n    this._element.style.maxHeight = _height\r\n  }\r\n\r\n  lock (_lock) {\r\n    if (_lock) this._element.classList.add('ace-scroll-lock')\r\n    else this._element.classList.remove('ace-scroll-lock')\r\n  }\r\n\r\n  _addNativeScrolls (smooth) {\r\n    if (this._scrollbarInfo.width === 0) this._element.classList.add('ace-scroll-mob')// mobile device\r\n    else {\r\n      this._element.classList.add('ace-scroll')\r\n\r\n      if (this._config.color !== null) this._element.classList.add('ace-scroll-' + this._config.color)\r\n      if (this._config.autohide === false) this._element.classList.add('is-always-on')\r\n\r\n      const _smooth = typeof smooth !== 'undefined' ? smooth : this._config.smooth\r\n      if (_smooth) {\r\n        // wrap children inside an .ace-scroll-inner\r\n        const wrapper = document.createElement('div')\r\n        wrapper.classList.add('ace-scroll-inner')\r\n        wrapper.style.color = window.getComputedStyle(this._element).color\r\n\r\n        while (this._element.firstChild) {\r\n          wrapper.appendChild(this._element.firstChild)\r\n        }\r\n        this._element.appendChild(wrapper)\r\n\r\n        /// ///////\r\n        // disable the initial transition effects\r\n        this._element.style.transition = 'none'\r\n\r\n        this._element.classList.add('ace-scroll-wrap')\r\n        this._element.offsetHeight// reflow\r\n        this._element.style.transition = ''\r\n      }\r\n    }\r\n  }\r\n\r\n  _preferNativeScrolls () {\r\n    if (this._scrollbarInfo.width === 0 || this._scrollbarInfo.overlay || this._scrollbarInfo.thin || !this._hasScrollbarPlugin()) {\r\n      this._addNativeScrolls()\r\n    } else {\r\n      this._addPluginScrolls()\r\n    }\r\n  }\r\n\r\n  _addPluginScrolls () {\r\n    if (this._hasScrollbarPlugin()) {\r\n      return new window[this._config.plugin](this._element, this._config.options)\r\n    } else {\r\n      this._addNativeScrolls()\r\n    }\r\n  }\r\n\r\n  _hasScrollbarPlugin () {\r\n    return !!window[this._config.plugin]\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      let options = this.getAttribute('ace-scroll') || this.getAttribute('data-ace-scroll') || {}\r\n      if (!isNaN(options)) options = { height: parseInt(options) }\r\n      else if (options.length > 1) {\r\n        try {\r\n          options = JSON.parse(options)\r\n        } catch (e) {}\r\n      }\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {},\r\n        ...typeof options === 'object' && options ? options : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Scrollbar(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  const scrollbars = ([].slice.call(document.querySelectorAll(Selector.ACE_SCROLL))).concat([].slice.call(document.querySelectorAll(Selector.DATA_ACE_SCROLL)))\r\n\r\n  for (let i = 0; i < scrollbars.length; i++) {\r\n    const $scrollbars = $(scrollbars[i])\r\n    Scrollbar._jQueryInterface.call($scrollbars, $scrollbars.data())\r\n  }\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Scrollbar._jQueryInterface\r\n  $.fn[NAME].Constructor = Scrollbar\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Scrollbar._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Scrollbar\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): sidebar.js\r\n   Handling Sidebar\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceSidebar'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.sidebar'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`,\r\n  COLLAPSE: `collapse${EVENT_KEY}`,\r\n  EXPAND: `expand${EVENT_KEY}`,\r\n  SHOWN: `shown${EVENT_KEY}`,\r\n  HIDDEN: `hidden${EVENT_KEY}`,\r\n  COLLAPSED: `collapsed${EVENT_KEY}`,\r\n  EXPANDED: `expanded${EVENT_KEY}`,\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`,\r\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  SIDEBAR: '.sidebar',\r\n  DATA_TOGGLE: '[data-toggle=\"sidebar\"]',\r\n  DATA_TOGGLE_MOBILE: '[data-toggle-mobile=\"sidebar\"]'\r\n}\r\n\r\nconst DefaultType = {\r\n  swipe: 'boolean',\r\n  dismiss: 'boolean',\r\n  backdrop: 'boolean',\r\n\r\n  gotoactive: 'boolean',\r\n  subscroll: 'boolean',\r\n\r\n  pullup: 'boolean'\r\n}\r\n\r\nconst Default = {\r\n  swipe: false,\r\n  dismiss: false,\r\n  backdrop: false,\r\n\r\n  gotoactive: false,\r\n  subscroll: true,\r\n\r\n  pullup: false\r\n}\r\n\r\nconst ClassName = {\r\n  DESKTOP_HIDE: 'collapsed',\r\n  MOBILE_SHOW: 'sidebar-visible',\r\n  COLLAPSED:\t'collapsed',\r\n\r\n  TOGGLING: 'toggling',\r\n\r\n  INNER_HOVER: 'is-hover',\r\n\r\n  BACKDROP: 'sidebar-backdrop',\r\n\r\n  HORIZONTAL: 'sidebar-h'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Sidebar {\r\n  constructor (element, config) {\r\n    this._hasTransitionEvent = false\r\n    this._hasTransitionEvent2 = false\r\n    this._isTransitioning = false\r\n\r\n    this._sidebar = element\r\n    this._sidebar.offsetHeight // force reflow, so that if we instantly call 'collapse' or 'expand', transition effect takes place\r\n    this._sidebar.classList.add('sidebar')\r\n    this._inner = this._sidebar.querySelector('.sidebar-inner')\r\n    this._config = this._getConfig(config)\r\n    this._scroller = \tthis._sidebar.querySelector('[class*=\"ace-scroll\"]')\r\n\r\n    if (this._sidebar.querySelector('.submenu.show') !== null) this._sidebar.classList.add('has-open')\r\n\r\n    this._pullupEnabled = false\r\n\r\n    this._triggerArray = [].slice.call(document.querySelectorAll(\r\n      `[data-toggle=\"sidebar\"][href=\"#${element.id}\"],` +\r\n      `[data-toggle=\"sidebar\"][data-target=\"#${element.id}\"]`\r\n    ))\r\n    this._triggerArrayMobile = [].slice.call(document.querySelectorAll(\r\n      `[data-toggle-mobile=\"sidebar\"][href=\"#${element.id}\"],` +\r\n      `[data-toggle-mobile=\"sidebar\"][data-target=\"#${element.id}\"]`\r\n    ))\r\n\r\n    this._horizontal = this._sidebar.classList.contains(ClassName.HORIZONTAL)\r\n    this._desktopCollapsedClass = this._triggerArray.length > 0 ? (this._triggerArray[0].getAttribute('data-toggle-class') || ClassName.DESKTOP_HIDE) : ClassName.DESKTOP_HIDE\r\n\r\n    //\r\n    this._collapsed = this._sidebar.classList.contains(this._desktopCollapsedClass)\r\n\r\n    $(this._inner).on('focus', 'input', (e) => {\r\n      if (!this._collapsed) return\r\n      this._inner.classList.add('has-focus')\r\n      $(e.target).one('blur', () => {\r\n        this._inner.classList.remove('has-focus')\r\n      })\r\n    })\r\n    //\r\n\r\n    this._handleTriggerEvents()\r\n    this.enableSubmenuToggle()\r\n\r\n    if (this._config.pullup) this.enableSubmenuPullup()\r\n    if (this._config.gotoactive) this.scrollToActive()\r\n    if (this._config.backdrop) {\r\n      this._sidebar.classList.add(ClassName.BACKDROP)\r\n    } else if (this._sidebar.classList.contains(ClassName.BACKDROP)) {\r\n      this._config.backdrop = true\r\n    }\r\n\r\n    if (!this._horizontal && this._collapsed) {\r\n      this._addTransitionEvent()\r\n    }\r\n  }\r\n\r\n  // Getters\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  _handleTriggerEvents () {\r\n    const This = this\r\n    $(this._triggerArray).on('click', function () {\r\n      This.toggle(this)\r\n    })\r\n\r\n    $(this._triggerArrayMobile).on('click', function () {\r\n      This.toggleMobile(this)\r\n    })\r\n  }\r\n\r\n  toggle (btn = null) {\r\n    if (this._sidebar.classList.contains(this._desktopCollapsedClass)) {\r\n      this.expand(btn)\r\n    } else {\r\n      this.collapse(btn)\r\n    }\r\n  }\r\n\r\n  toggleMobile (btn = null) {\r\n    if (!this._sidebar.classList.contains(ClassName.MOBILE_SHOW)) {\r\n      this.show(btn)\r\n    } else {\r\n      this.hide(btn)\r\n    }\r\n  }\r\n\r\n  /// ////\r\n\r\n  expand (btn = null) {\r\n    if (!this._hasTransitionEvent) this._addTransitionEvent()\r\n    if (this._isTransitioning) return\r\n\r\n    const ev = new $.Event(Event.EXPAND)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._isTransitioning = true\r\n\r\n    this._sidebar.classList.add(ClassName.TOGGLING)\r\n    this._sidebar.classList.remove(this._desktopCollapsedClass)\r\n\r\n    this._updateTriggerBtns(this._triggerArray, true)\r\n\r\n    this._collapsed = false\r\n\r\n    if (Util.isReducedMotion() || this._horizontal) this._toggleCompleted()// call completion now\r\n\r\n    //\r\n    if (this._pullupEnabled) this._resetPullUp()\r\n\r\n    // this._inner.classList.remove(ClassName.INNER_HOVER)//we'll remove it in _toggleCompleted\r\n  }\r\n\r\n  collapse (btn = null) {\r\n    if (!this._hasTransitionEvent) this._addTransitionEvent()\r\n    if (this._isTransitioning) return\r\n\r\n    const ev = new $.Event(Event.COLLAPSE)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._isTransitioning = true\r\n\r\n    this._sidebar.classList.add(ClassName.TOGGLING)\r\n    this._sidebar.classList.add(this._desktopCollapsedClass)\r\n\r\n    this._updateTriggerBtns(this._triggerArray, false)\r\n\r\n    this._collapsed = true\r\n\r\n    if (Util.isReducedMotion() || this._horizontal) this._toggleCompleted()// call completion now\r\n\r\n    //\r\n    if (this._pullupEnabled) this._resetPullUp()\r\n\r\n    // if the triggering button is inside sidebar and we want it to remain expaned (.let-expanded), add .is-hover class as well\r\n    if (btn !== null && this._sidebar.classList.contains('expandable') && this._sidebar.classList.contains('let-expanded') && this._inner.contains(btn)) {\r\n      this._inner.classList.add(ClassName.INNER_HOVER)\r\n    }\r\n  }\r\n\r\n  show (btn = null) {\r\n    if (!this._hasTransitionEvent2) this._addTransitionEvent2()\r\n\r\n    const ev = new $.Event(Event.SHOW)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._sidebar.classList.add(ClassName.MOBILE_SHOW)\r\n    this._updateTriggerBtns(this._triggerArrayMobile, true)\r\n\r\n    // hide sidebar if clicked outside of it\r\n    if (this._config.dismiss) {\r\n      $(this._triggerArrayMobile).css('pointer-events', 'none') // disable this button, because if we click on it, it will hide and then instantly show the sidebar again\r\n      $(document).on('mouseup.sidebar-dismiss', (e) => {\r\n        if (!$.contains(this._sidebar, e.target)) { // if clicked outside sidebar\r\n          this.hide()\r\n        }\r\n      })\r\n    }\r\n\r\n    if (this._config.swipe) this.enableSwipeHide()\r\n\r\n    if (Util.isReducedMotion()) this._toggleMobileCompleted()// call completion now\r\n\r\n    // in some webkit mobile browsers, sidebar scrolling works but scrollbars are not visible, unless something like this forces it to become visible\r\n    if (this._scroller && !this._scroller.classList.contains('overflow-hidden')) {\r\n      this._scroller.classList.add('overflow-hidden')\r\n      this._scroller.offsetHeight// force redraw\r\n      this._scroller.classList.remove('overflow-hidden')\r\n    }\r\n\r\n    // hide body scrollbars\r\n    // if sidebar is fixed and has backdrop or is .sidebar-push\r\n    const scrollbarInfo = Util.getScrollbarInfo()\r\n    if (scrollbarInfo.width === 0 && this._sidebar.classList.contains('sidebar-fixed') && (this._config.backdrop || this._sidebar.classList.contains('sidebar-push'))) {\r\n      document.body.classList.add('mob-sidebar-body')\r\n    }\r\n  }\r\n\r\n  hide (btn = null) {\r\n    if (!this._hasTransitionEvent2) this._addTransitionEvent2()\r\n\r\n    const ev = new $.Event(Event.HIDE)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._sidebar.classList.remove(ClassName.MOBILE_SHOW)\r\n    this._updateTriggerBtns(this._triggerArrayMobile, false)\r\n\r\n    // document.body.classList.remove('mob-sidebar-body') // moved to `_toggleMobileCompleted`\r\n\r\n    if (this._config.dismiss) {\r\n      $(this._triggerArrayMobile).css('pointer-events', '')\r\n      $(document).off('.sidebar-dismiss')\r\n    }\r\n    if (this._config.swipe) {\r\n      $(document).off('.sidebar-swipe')\r\n    }\r\n\r\n    if (Util.isReducedMotion()) this._toggleMobileCompleted()// call completion now\r\n  }\r\n\r\n  _updateTriggerBtns (btns, expanded = false) {\r\n    for (let i = 0, len = btns.length; i < len; i++) {\r\n      if (expanded) btns[i].classList.remove(ClassName.COLLAPSED)\r\n      else btns[i].classList.add(ClassName.COLLAPSED)\r\n\r\n      btns[i].setAttribute('aria-expanded', expanded)\r\n    }\r\n  }\r\n\r\n  _toggleCompleted () {\r\n    this._isTransitioning = false\r\n    this._sidebar.classList.remove(ClassName.TOGGLING)\r\n\r\n    const expanded = !this._sidebar.classList.contains(this._desktopCollapsedClass)\r\n    if (expanded) $(this._sidebar).trigger(Event.EXPANDED)\r\n    else $(this._sidebar).trigger(Event.COLLAPSED)\r\n\r\n    if (expanded) this._inner.classList.remove(ClassName.INNER_HOVER)\r\n  }\r\n\r\n  _toggleMobileCompleted () {\r\n    const shown = this._sidebar.classList.contains(ClassName.MOBILE_SHOW)\r\n    if (shown) $(this._sidebar).trigger(Event.SHOWN)\r\n    else {\r\n      document.body.classList.remove('mob-sidebar-body')\r\n      if (this._config.swipe) {\r\n        document.body.classList.remove('mob-sidebarswipe-body')\r\n      }\r\n\r\n      $(this._sidebar).trigger(Event.HIDDEN)\r\n    }\r\n  }\r\n\r\n  _addTransitionEvent () {\r\n    if (this._hasTransitionEvent) return\r\n    this._hasTransitionEvent = true\r\n    let counter = 0\r\n\r\n    $(this._sidebar)\r\n      .on('transitionend', (e) => {\r\n        if (e.target !== this._sidebar) return// make sure its not the children triggerring the event!\r\n\r\n        this._toggleCompleted()\r\n\r\n        counter = 0\r\n      })\r\n\r\n    // add 'is-hover' class to '.sidebar-inner' when it becomes expanded (i.e. when mouse hovers it)\r\n    $(this._inner)\r\n      .on('transitionstart', (e) => {\r\n        // skip on mobile (in which propertyName is `transform`)\r\n        if (e.target !== this._inner || this._isTransitioning || (e.originalEvent && e.originalEvent.propertyName !== 'width')) return\r\n\r\n        counter++\r\n        if (counter === 1) this._inner.classList.add(ClassName.INNER_HOVER)\r\n        // else if (counter >= 2) {\r\n        //  this.classList.remove(ClassName.INNER_HOVER)\r\n        //  counter = 0\r\n        // }\r\n      })\r\n      .on('transitionend', (e) => {\r\n        // skip `transitionend` on mobile (in which propertyName is `transform`)\r\n        if (e.target !== this._inner || (e.originalEvent && e.originalEvent.propertyName !== 'width')) return\r\n        if (this._inner.clientWidth < 120) {\r\n          // just to make sure we remove the extra class name when not needed\r\n          this._inner.classList.remove(ClassName.INNER_HOVER)\r\n          counter = 0\r\n          // blur input element\r\n          if (document.activeElement.tagName === 'INPUT' && this._inner.contains(document.activeElement)) document.activeElement.blur()\r\n        }\r\n      })\r\n  }\r\n\r\n  _addTransitionEvent2 () {\r\n    if (this._hasTransitionEvent2) return\r\n    this._hasTransitionEvent2 = true\r\n\r\n    $(this._inner).on('transitionend', (e) => {\r\n      if (e.target !== this._inner || (e.originalEvent && e.originalEvent.propertyName !== 'transform')) return\r\n\r\n      this._toggleMobileCompleted()\r\n    })\r\n  }\r\n\r\n  enableSwipeHide () {\r\n    // swipe to hide sidebar\r\n    let x1 = 0\r\n    let y1 = 0\r\n    let swipeDir = 0\r\n\r\n    let isRTL = false\r\n    let lastX = 0\r\n\r\n    let pushContent = false\r\n    let sidebarWidth = 0\r\n\r\n    const touchMoveCallback = function (ev) {\r\n      const touches = ev.changedTouches[0] || null\r\n      if (!touches) return\r\n\r\n      const newX = touches.pageX\r\n      const newY = touches.pageY\r\n      lastX = newX\r\n\r\n      if (swipeDir === 0) {\r\n        const diffY = Math.abs(y1 - newY)\r\n        const diffX = Math.abs(x1 - newX)\r\n\r\n        if (diffY > diffX) {\r\n          swipeDir = 2// vertical i.e. scroll\r\n          if (this._scroller) this._scroller.classList.remove('overflow-hidden')\r\n          document.body.classList.remove('mob-sidebarswipe-body')\r\n\r\n          $(document).off('touchmove.sidebar-swipe')\r\n        } else if (diffX > 10) {\r\n          swipeDir = 1// horizontal swipe\r\n          this._inner.setAttribute('style', 'transition: none !important; touch-action: none;')\r\n          if (this._scroller) this._scroller.classList.add('overflow-hidden')\r\n          document.body.classList.add('mob-sidebarswipe-body')\r\n        }\r\n      }\r\n      if (swipeDir !== 1) return\r\n\r\n      const moveX = parseInt(x1 - newX)\r\n      if ((!isRTL && moveX > 0) || (isRTL && moveX < 0)) { // move it outside of view\r\n        this._inner.style.transform = 'translateX(' + (-1 * moveX) + 'px)'\r\n        if (pushContent) this._sidebar.style.width = (sidebarWidth - (moveX > 0 ? moveX : -1 * moveX)) + 'px'\r\n      } else {\r\n        this._inner.style.transform = ''\r\n        if (pushContent) this._sidebar.style.width = ''\r\n      }\r\n    }\r\n\r\n    let t1 = 0\r\n    $(document)\r\n      .on('touchstart.sidebar-swipe', (e) => {\r\n        const touches = e.originalEvent.changedTouches[0] || null\r\n        if (!touches) return\r\n\r\n        x1 = touches.pageX\r\n        y1 = touches.pageY\r\n\r\n        t1 = Date.now()\r\n        isRTL = Util.isRTL()\r\n\r\n        pushContent = this._sidebar.classList.contains('sidebar-push')\r\n        if (pushContent) {\r\n          sidebarWidth = this._sidebar.offsetWidth\r\n          this._sidebar.style.minWidth = 'auto'\r\n          this._sidebar.style.transition = 'none'\r\n        }\r\n\r\n        $(document)\r\n          .on('touchmove.sidebar-swipe', (e) => {\r\n            touchMoveCallback.call(this, e.originalEvent)\r\n          })\r\n      })\r\n      .on('touchend.sidebar-swipe touchcancel.sidebar-swipe', (e) => {\r\n        const touches = e.originalEvent.changedTouches[0] || null\r\n        // if (!touches) return // in case we're coming from a `dismiss` mouseup event\r\n\r\n        this._inner.setAttribute('style', '')\r\n        if (pushContent) {\r\n          this._sidebar.style.width = ''\r\n          this._sidebar.style.minWidth = ''\r\n          this._sidebar.style.transition = ''\r\n        }\r\n\r\n        const x2 = touches !== null ? touches.pageX : lastX\r\n        const t2 = Date.now()\r\n\r\n        if (swipeDir === 1 &&\r\n            ( // dismiss if moved by more than 100px or moved more than 40px in a short time (less than 300ms)\r\n              (!isRTL && (x1 - x2 > 100 || (x1 - x2 > 40 && t2 - t1 < 300))) || (isRTL && (x1 - x2 < -100 || (x1 - x2 < -40 && t2 - t1 < 300)))\r\n            )\r\n        ) { // if moved more than 100px or 40px in less than 300ms\r\n          this.hide()\r\n        } else {\r\n          // remove '.mob-sidebarswipe-body' to bring back body scrollbars if sidebar isn't swiped to hide\r\n          // but we probably won't have body scrollbars because of `.mob-sidebar-body`\r\n          document.body.classList.remove('mob-sidebarswipe-body')\r\n        }\r\n\r\n        // bring back sidebar scrollbars\r\n        if (this._scroller) this._scroller.classList.remove('overflow-hidden')\r\n\r\n        swipeDir = 0\r\n      })\r\n  }\r\n\r\n  enableSubmenuToggle () {\r\n    const _firefox = 'MozAppearance' in document.documentElement.style\r\n    const _scrollIntoViewOptions = 'scrollBehavior' in document.documentElement.style\r\n    let isOpening = false\r\n\r\n    const This = this\r\n    $(this._sidebar).on('click', '.dropdown-toggle', function (ev) {\r\n      ev.preventDefault()\r\n      if (isOpening) return\r\n\r\n      const navItem = $(this).closest('.nav-item')// get the parent LI.nav-item\r\n      const subMenu = navItem.find('> .submenu').eq(0)// get the direct submenu (not the children)\r\n      const navLink = navItem.find('> .nav-link').eq(0)// get the parent LI.nav-item\r\n\r\n      let subPos = null\r\n      if ((This._collapsed && This._sidebar.classList.contains('hoverable')) || This._sidebar.classList.contains('sidebar-hover')) {\r\n        // don't toggle submenu if submenu is supposed to be displayed as popup (this includes horizontal sidebar when it's `.sidebar-hover`)\r\n        subPos = window.getComputedStyle(subMenu.get(0)).position\r\n        if (subPos === 'absolute') return\r\n      }\r\n\r\n      if (subMenu.hasClass('collapsing')) return// don't toggle in the middle of toggling\r\n\r\n      // hide sibling submenus\r\n      navItem.addClass('is-toggling')\r\n      navItem.parent().find('> .nav-item.open').addClass('is-toggling').not(navItem).removeClass('open').find('> .submenu.show').collapse('hide')\r\n\r\n      // toggle submenu\r\n      if (navItem.hasClass('open')) {\r\n        navItem.removeClass('open')\r\n        navLink.addClass('collapsed')\r\n\r\n        This._sidebar.classList.remove('has-open')\r\n        subMenu.collapse('hide')\r\n      } else {\r\n        isOpening = true\r\n\r\n        navItem.addClass('open')\r\n        navLink.removeClass('collapsed')\r\n\r\n        This._sidebar.classList.add('has-open')\r\n        subMenu.collapse('show')\r\n      }\r\n\r\n      if (!subMenu.data('has-event')) {\r\n        subMenu\r\n          .data('has-event', true)\r\n          .on('shown.bs.collapse.is-toggling hidden.bs.collapse.is-toggling', function () {\r\n            isOpening = false\r\n            $(This._sidebar).find('.is-toggling').removeClass('is-toggling')\r\n\r\n            // firefox continues to disable scroll chaining when sidebar is not scrollable anymore, so a little fix around here\r\n            if (_firefox) {\r\n              if (This._scroller === null) return\r\n              if (This._scroller.scrollHeight <= This._scroller.clientHeight) {\r\n                This._scroller.style.overscrollBehavior = 'auto'\r\n              } else This._scroller.style.overscrollBehavior = ''\r\n            }\r\n          })\r\n      }\r\n\r\n      // scroll submenu into view (only on modern browsers)\r\n      if (!Util.isReducedMotion() && _scrollIntoViewOptions && This._config.subscroll && This._sidebar.classList.contains('sidebar-fixed') && navItem.hasClass('open')) {\r\n        if (This._sidebar.classList.contains(ClassName.HORIZONTAL)) {\r\n          subPos = window.getComputedStyle(subMenu.get(0)).position\r\n          if (subPos === 'absolute') return // no scroll for desktop horizontal menu (when it's not `.sidebar-hover`)\r\n        }\r\n\r\n        const smooth = !Util.isReducedMotion()\r\n        setTimeout(function () {\r\n          try {\r\n            if (_scrollIntoViewOptions) {\r\n              subMenu.get(0).scrollIntoView({\r\n                behavior: smooth ? 'smooth' : 'auto',\r\n                block: 'nearest'\r\n              })\r\n            } else {\r\n              // subMenu.get(0).scrollIntoView(false)\r\n            }\r\n          } catch (err) {}\r\n        }, smooth ? 150 : 0)\r\n      }\r\n    })\r\n  }\r\n\r\n  enableSubmenuPullup () {\r\n    if (this._pullupEnabled) return\r\n    this._pullupEnabled = true\r\n\r\n    const marginProp = 'margin-' + (!Util.isRTL() ? 'left' : 'right')\r\n\r\n    const This = this\r\n    $(this._sidebar).on('transitionstart', '.submenu', function (ev) {\r\n      if (ev.target !== this || ev.originalEvent.propertyName !== marginProp || !(This._collapsed || This._sidebar.classList.contains('sidebar-hover'))) return\r\n\r\n      const navItem = $(this).parent()\r\n      const submenu = $(this)\r\n\r\n      const navtxt = navItem.find('> .nav-link > .nav-text.fadeable')// only first level nav-text items\r\n\r\n      navItem.removeClass('submenu-pullup')\r\n      submenu.css('transform', '')\r\n      navtxt.css('transform', '')\r\n\r\n      /// ///////////////////////\r\n\r\n      const rect = submenu.get(0).getBoundingClientRect()\r\n      const wh = $(window).height()\r\n\r\n      let diff = parseInt(rect.bottom - wh)\r\n\r\n      if (diff > 0) { // if submenu bottom is below window area\r\n        // check to see if submenu top will go out of window if we move it up by \"diff\" pixels\r\n        // also consider that the first level item's .nav-text shouldn't go out of window's top\r\n        const navtxtHeight = navtxt.height() || 0\r\n\r\n        const diff2 = rect.top - navtxtHeight - diff - $('.navbar').height()// don't go above navbar\r\n        if (diff2 < 0) diff = diff + diff2\r\n\r\n        diff = parseInt(diff) + 1// so that submenu's border is visible\r\n        if (This._collapsed) {\r\n          if (navtxtHeight && diff > navtxtHeight / 2) navItem.addClass('submenu-pullup')// this class makes the .sub-arrow's color white, to match submenu color\r\n        } else {\r\n          navItem.addClass('submenu-pullup')\r\n        }\r\n\r\n        submenu.css('transform', 'translateY(-' + diff + 'px)')\r\n        if (This._collapsed) {\r\n          navtxt.css('transform', 'translateY(-' + diff + 'px)')\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  disableSubmenuPullup () {\r\n    this._pullupEnabled = false\r\n    $(this._sidebar).off('transitionstart.pullup')\r\n    this._resetPullUp()\r\n  }\r\n\r\n  _resetPullUp () {\r\n    $(this._sidebar).find('.submenu-pullup').removeClass('submenu-pullup').find('.nav-text, .submenu').css('transform', '')\r\n  }\r\n\r\n  // scroll active item into view\r\n  scrollToActive () {\r\n    if (!this._sidebar.classList.contains('sidebar-fixed') || this._scroller === null) return\r\n\r\n    const active = this._sidebar.querySelector('.nav-item.active:not(.open) > .nav-link')\r\n    try {\r\n      active.scrollIntoView({ behavior: 'auto', block: 'end' })// or block: \"center\"?\r\n      this._scroller.scrollTop = this._scroller.scrollTop + 30\r\n    } catch (e) {}\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Sidebar(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  const sidebars = [].slice.call(document.querySelectorAll(Selector.SIDEBAR))\r\n\r\n  for (let i = 0; i < sidebars.length; i++) {\r\n    const $sidebar = $(sidebars[i])\r\n    Sidebar._jQueryInterface.call($sidebar, $sidebar.data())\r\n  }\r\n})\r\n\r\n/**\r\n$(document).on(Event.CLICK_DATA_API, `${Selector.DATA_TOGGLE} , ${Selector.DATA_TOGGLE_MOBILE}`, function (event) {\r\n\tif (event.currentTarget.tagName === 'A') {\r\n\t  event.preventDefault()\r\n\t}\r\n\r\n\tconst $trigger = $(this)\r\n\tconst selector = bootstrap.Util.getSelectorFromElement(this)\r\n\tconst selectors = [].slice.call(document.querySelectorAll(selector))\r\n\r\n\t$(selectors).each(function () {\r\n\t  const $target = $(this)\r\n\t  const data    = $target.data(DATA_KEY)\r\n\t  const config  = data ? 'toggle' : $trigger.data()\r\n\t  Sidebar._jQueryInterface.call($target, config)\r\n\t})\r\n})\r\n*/\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Sidebar._jQueryInterface\r\n  $.fn[NAME].Constructor = Sidebar\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Sidebar._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): aside.js\r\n   Aside element based on Bootstrap's modal\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceAside'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.aside'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`\r\n}\r\n\r\nconst DefaultType = {\r\n  placement: 'string',\r\n  // margin: 'number',\r\n\r\n  fade: 'boolean',\r\n\r\n  autohide: '(boolean|number)',\r\n  dismiss: 'boolean',\r\n\r\n  blocking: 'boolean',\r\n  backdrop: '(boolean|string)',\r\n\r\n  container: 'boolean',\r\n  belowNav: 'boolean',\r\n  aboveNav: 'boolean',\r\n\r\n  width: '(boolean|number)',\r\n  height: '(boolean|number)',\r\n\r\n  scroll: '(boolean|string)'\r\n}\r\n\r\nconst Default = {\r\n  placement: 'center',\r\n  // margin: 0,\r\n\r\n  fade: false,\r\n\r\n  autohide: false,\r\n  dismiss: false,\r\n\r\n  blocking: false,\r\n  backdrop: false,\r\n\r\n  container: false,\r\n  belowNav: false,\r\n  aboveNav: false,\r\n\r\n  width: false,\r\n  height: false,\r\n\r\n  scroll: 'body'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Aside {\r\n  constructor (element, config) {\r\n    this._config = this._getConfig(config)\r\n    this._element = element\r\n    this.$element = $(element)\r\n\r\n    this._init(this._config)\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  _init (config) {\r\n    this._setPlacement(config.placement)\r\n\r\n    this._element.classList.add('ace-aside')\r\n\r\n    if (!config.blocking) {\r\n      this._element.classList.add('modal-nb')\r\n      this.$element.attr('data-backdrop', 'false').data('backdrop', false)\r\n    } else {\r\n      if (config.backdrop) {\r\n        this.$element.attr('data-backdrop-bg', config.backdrop)\r\n      }\r\n      this.$element.attr('data-backdrop', 'true').data('backdrop', true)\r\n    }\r\n\r\n    if (config.dismiss) this._element.classList.add('modal-dismiss')\r\n\r\n    if (config.fade) {\r\n      this._element.classList.add('aside-fade', 'fade')\r\n    }\r\n\r\n    if (config.belowNav) this._element.classList.add('aside-below-nav')\r\n    if (config.aboveNav) this._element.classList.add('aside-above-nav')\r\n\r\n    if (config.extraClass) this._element.classList.add(...config.extraClass.split(' '))\r\n\r\n    if (config.container) {\r\n      this._element.classList.add('container')\r\n      const bdc = document.querySelector('.body-container')\r\n      if (bdc !== null && bdc.classList.contains('container-plus')) {\r\n        this._element.classList.add('container-plus')\r\n      }\r\n    }\r\n\r\n    if (config.width) {\r\n      this.$element.find('.modal-dialog').css('width', isNaN(config.width) ? config.width : this._config.width + 'px')\r\n    }\r\n    if (config.height) {\r\n      this.$element.find('.modal-dialog').css('height', isNaN(config.height) ? config.height : this._config.height + 'px')\r\n    }\r\n\r\n    // if (/^(content|body)$/.test(config.scroll)) {\r\n    //  this.$element.find('.modal-content').addClass('scroll-' + config.scroll)\r\n    // }\r\n\r\n    this.$element.off('shown.bs.modal.autohide')\r\n    if (config.autohide) {\r\n      const This = this\r\n      this.$element.on('shown.bs.modal.autohide', function () {\r\n        setTimeout(function () {\r\n          This.hide()\r\n        }, config.autohide)\r\n      })\r\n    }\r\n  }\r\n\r\n  _setPlacement (placement = 'center') {\r\n    const placementMap = {\r\n      t: 'aside-top',\r\n      top: 'aside-top',\r\n      tc: 'aside-top aside-c',\r\n      tr: 'aside-top aside-r',\r\n      tl: 'aside-top aside-l',\r\n\r\n      b: 'aside-bottom',\r\n      bottom: 'aside-bottom',\r\n      bc: 'aside-bottom aside-c',\r\n      br: 'aside-bottom aside-r',\r\n      bl: 'aside-bottom aside-l',\r\n\r\n      r: 'aside-right',\r\n      right: 'aside-right',\r\n      rc: 'aside-right aside-m',\r\n\r\n      l: 'aside-left',\r\n      left: 'aside-left',\r\n      lc: 'aside-left aside-m',\r\n\r\n      c: 'aside-center',\r\n      center: 'aside-center'\r\n    }\r\n\r\n    placement = placement || 'c'\r\n    const className = placementMap[placement] || 'aside-center'\r\n    if (placement === 'c' || placement === 'center') {\r\n      this._config.fade = true\r\n      this._element.classList.remove('container')\r\n    }\r\n\r\n    this._element.className = this._element.className + ' ' + className\r\n  }\r\n\r\n  // Public methods\r\n  show () {\r\n    const showEvent = new $.Event(Event.SHOW)\r\n    this.$element.trigger(showEvent)\r\n    if (showEvent.isDefaultPrevented()) {\r\n      return\r\n    }\r\n\r\n    this.$element.modal('show')\r\n  }\r\n\r\n  hide () {\r\n    const hideEvent = new $.Event(Event.HIDE)\r\n    this.$element.trigger(hideEvent)\r\n    if (hideEvent.isDefaultPrevented()) {\r\n      return\r\n    }\r\n\r\n    this.$element.modal('hide')\r\n  }\r\n\r\n  // Private methods\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$(this).data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Aside(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n\r\n  //\r\n  static _HandleAside () {\r\n    const visibleModalSelector = '.modal.show:not(.modal-nb)'\r\n    let dismissEventId = 0\r\n\r\n    $('.ace-aside.modal-nb').attr('data-backdrop', 'false').data('backdrop', false)\r\n\r\n    $(document)\r\n      .on('show.bs.modal', '.modal', function (e) {\r\n        if (e.isDefaultPrevented()) return\r\n\r\n        const modal = this\r\n        if (modal.classList.contains('modal-nb')) {\r\n          if ($(visibleModalSelector).length === 0) {\r\n            document.body.classList.add('modal-nb')// disable .modal-open effects for .modal-nb\r\n          }\r\n        } else {\r\n          if (!modal.classList.contains('ace-aside')) {\r\n            // check to see if we will have modal scrollbars\r\n            modal.style.display = 'block'\r\n            if (modal.scrollHeight > modal.clientHeight) document.body.classList.add('modal-scroll')\r\n            const scrollbars = Util.getScrollbarInfo()\r\n            if (scrollbars.width === 0) document.body.classList.add('scrollbar-w0')\r\n            modal.style.display = ''\r\n          }\r\n\r\n          // set modal padding value (equal to scrollbar width)\r\n          document.body.style.setProperty('--modal-padding', (window.innerWidth - document.body.scrollWidth) + 'px')\r\n\r\n          const isModalOff = modal.className.match(/modal-off(-[a-z0-9]*)?/i)\r\n\r\n          const backdropBg = $(modal).attr('data-backdrop-bg')\r\n          if (backdropBg || isModalOff) {\r\n            setTimeout(function () {\r\n              const backdrop = document.querySelector('.modal-backdrop:last-child')\r\n              if (backdrop !== null) {\r\n                if (backdropBg) backdrop.classList.add(backdropBg)\r\n\r\n                // for example if our modal is a `.modal-off-lg` then we add `.d-lg-none` to `.modal-backdrop` to hide it in `lg+` view\r\n                if (isModalOff) backdrop.classList.add(`d${isModalOff[1] || ''}-none`)\r\n              }\r\n            }, 0)\r\n          }\r\n\r\n          const blur = modal.getAttribute('data-blur')\r\n          if (blur !== null && window.CSS) {\r\n            /**\r\n             // using `backdrop-filter` is less intrusive but doesn't have the same blur effect\r\n             if (window.CSS.supports(\"backdrop-filter\", \"none\")) {\r\n              setTimeout(function () {\r\n                $('.modal-backdrop:last-child').addClass('modal-blur')\r\n              }, 0)\r\n            }\r\n            else */\r\n            if (window.CSS.supports('filter', 'none')) {\r\n              const bodyContainer = document.querySelector('.body-container')\r\n              if (bodyContainer !== null) {\r\n                document.body.classList.add('modal-blur')\r\n                bodyContainer.style.filter = 'blur(' + blur + ')'\r\n\r\n                const modalParent = modal.parentNode\r\n                const modalSibling = modal.nextSibling\r\n\r\n                $(modal).appendTo('body').one('hidden.bs.modal.blur', function () {\r\n                  modalParent.insertBefore(modal, modalSibling)\r\n                  document.body.classList.remove('modal-blur')\r\n                  bodyContainer.style.filter = ''\r\n                })\r\n              }\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .on('shown.bs.modal', '.modal', function (e) {\r\n        const modal = this\r\n\r\n        if (modal.classList.contains('modal-nb')) {\r\n          document.body.classList.remove('modal-nb')\r\n\r\n          if ($(visibleModalSelector).length === 0) { // if no blocking modals\r\n            document.body.classList.remove('modal-open')// disable .modal-open effects\r\n            document.body.style.paddingRight = ''// and remove paddingRight\r\n          }\r\n\r\n          if (modal.classList.contains('modal-dismiss') || modal.getAttribute('data-dismiss') === 'true') {\r\n            // we add an extra ID to our event namespace\r\n            // because sometimes before a dismissible modal is hidden inside the below setTimeout, another dismissible gets shown and registers the following event which gets\r\n            // cleared in the on.hidden event below ... so we use different IDs for each one ...\r\n            modal.setAttribute('data-dismiss-event-id', ++dismissEventId)\r\n            $(document).on('mouseup.aside-dismiss.' + dismissEventId, function (e) {\r\n              // why mouseup? because 'click' may get 'stopPropagated' in some plugins such as Bootstrap's dropdown\r\n              if (!$.contains(modal, e.target)) { // clicked outside modal\r\n                // why timeout?\r\n                // because if we click on the same button that triggers this modal, its 'hide' function will be called and instantly followed by 'show' function\r\n                // so we first let 'show' be called and then we call 'hide'\r\n                setTimeout(function () {\r\n                  $(modal).modal('hide')\r\n                }, 0)\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n      .on('hidden.bs.modal', '.modal', function () {\r\n        if ($(visibleModalSelector).length === 0) document.body.style.paddingRight = ''// required for rare cases that body padding is still not cleared\r\n        else document.body.classList.add('modal-open') // sometimes an aside is closed (so .modal-open is removed) but a .modal is still open (so we add .modal-open again)\r\n\r\n        if (!this.classList.contains('modal-nb')) {\r\n          document.body.classList.remove('modal-scroll')\r\n          document.body.classList.remove('scrollbar-w0')\r\n        }\r\n\r\n        // we might have dismissed modal dialog using the close button inside it, so we turn off the events looking for clicks outside modal\r\n        if (this.classList.contains('modal-dismiss') || this.getAttribute('data-dismiss') === 'true') {\r\n          const eid = this.getAttribute('data-dismiss-event-id')\r\n          $(document).off('.aside-dismiss.' + eid)\r\n        }\r\n      })\r\n\r\n    // enable modal functionality for modal boxes and asides that are shown (.show) by default\r\n    $('.modal.show').modal('show')\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  Aside._HandleAside()\r\n\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Aside._jQueryInterface\r\n  $.fn[NAME].Constructor = Aside\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Aside._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Aside\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): toaster.js\r\n   Wrapper for Bootstrap's toast elements\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceToaster'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.toaster'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  CLEAR: `clear${EVENT_KEY}`,\r\n  ADD: `add${EVENT_KEY}`,\r\n  ADDED: `added${EVENT_KEY}`\r\n}\r\n\r\nconst DefaultType = {\r\n  placement: 'string',\r\n  close: 'boolean',\r\n  autoremove: 'boolean',\r\n  delay: 'number',\r\n  template: 'string',\r\n  alert: 'boolean'\r\n}\r\n\r\nconst Default = {\r\n  placement: 'tr',\r\n  close: true,\r\n  autoremove: true,\r\n  delay: 2500,\r\n  template: '<div class=\"toast\"><div class=\"d-flex\"><div class=\"toast-image\"></div><div class=\"toast-main\"><div class=\"toast-header\"></div><div class=\"toast-body\"></div></div></div></div>',\r\n  alert: true\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Toaster {\r\n  constructor () {\r\n    this._lastToastId = 0\r\n    this._toast = null\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  // Public methods\r\n  add (config) {\r\n    const _config = this._getConfig(config)\r\n\r\n    const $newToast = $(_config.template)\r\n    this._toast = $newToast[0]\r\n\r\n    this._lastToastId++\r\n    $newToast.addClass('ace-toaster-item').attr({ id: `ace-toaster-item-${this._lastToastId}`, 'aria-atomic': 'true' })\r\n    if (_config.alert) {\r\n      $newToast.attr({ role: 'alert', 'aria-live': 'assertive' })\r\n    } else {\r\n      $newToast.attr({ role: 'status', 'aria-live': 'polite' })\r\n    }\r\n\r\n    const $toastHeader = $newToast.find('.toast-header')\r\n    if (_config.title) {\r\n      let title = typeof _config.title === 'function' ? _config.title.call(this._toast, _config) : _config.title\r\n      title = $(`<div class=\"toast-title\">${title}</div>`)\r\n\r\n      if (_config.titleClass) {\r\n        title.addClass(_config.titleClass)\r\n      }\r\n      $toastHeader.append(title)\r\n    }\r\n\r\n    if (_config.close) {\r\n      let close = $newToast.find('[data-dismiss=\"toast\"]')\r\n      if (close.length === 0) {\r\n        close = $('<button type=\"button\" data-dismiss=\"toast\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>')\r\n        $toastHeader.append(close)\r\n      }\r\n      close.addClass(_config.closeClass ? _config.closeClass : 'close')\r\n    }\r\n\r\n    if (_config.body) {\r\n      $newToast.find('.toast-body').append(typeof _config.body === 'function' ? _config.body.call(this._toast, _config) : _config.body)\r\n      if (_config.bodyClass) {\r\n        $newToast.find('.toast-body').addClass(_config.bodyClass)\r\n      }\r\n    }\r\n\r\n    if (_config.image) {\r\n      $newToast.find('.toast-image').append(`<img src=\"${_config.image}\" />`)\r\n      if (_config.imageClass) {\r\n        $newToast.find('.toast-image').find('img').addClass(_config.imageClass)\r\n      }\r\n    }\r\n    if (_config.icon) {\r\n      const icon = $(_config.icon).appendTo($newToast.find('.toast-image'))\r\n      if (!_config.image && _config.imageClass) {\r\n        icon.addClass(_config.imageClass)\r\n      }\r\n    }\r\n    if (!(_config.image || _config.icon)) $newToast.find('.toast-image').remove()\r\n\r\n    if (_config.className) {\r\n      $newToast.addClass(_config.className)\r\n    }\r\n    if (_config.headerClass) {\r\n      $toastHeader.addClass(_config.headerClass)\r\n    }\r\n\r\n    // if delay is below 30, we consider it as seconds, not milliseconds\r\n    _config.delay = _config.delay > 30 ? _config.delay : _config.delay * 1000\r\n\r\n    if (_config.progress && !_config.sticky && _config.autohide !== false) {\r\n      const progress = $(`<div class=\"toast-progress ${_config.progress}\"></div>`).appendTo($newToast)\r\n      progress.get(0).style.transition = `width ${parseInt(_config.delay * 1.015)}ms linear`\r\n      progress.get(0).style.width = _config.progressReverse ? 'calc(100% - 1px)' : 0\r\n      // progress.get(0).offsetWidth\r\n      setTimeout(function () {\r\n        progress.get(0).style.width = _config.progressReverse ? 0 : 'calc(100% - 2px)'\r\n      }, 0)\r\n    }\r\n\r\n    return this._addToContainer($newToast, _config)\r\n  }\r\n\r\n  // add an existing toast element to our container\r\n  addEl (element, config) {\r\n    const _config = this._getConfig(config)\r\n\r\n    this._toast = element\r\n    const $existingToast = $(this._toast).addClass('ace-toaster-item')\r\n    if (!$existingToast.attr('id')) $existingToast.attr('id', `ace-toaster-item-${++this._lastToastId}`)\r\n\r\n    this._addToContainer($existingToast, _config, false)\r\n  }\r\n\r\n  // add toast element to container\r\n  _addToContainer ($toast, _config, isNewElement = true) {\r\n    // trigger ADD event before adding it to our container\r\n    const addEvent = new $.Event(Event.ADD)\r\n    const _toast = $toast.get(0)\r\n    addEvent.target = _toast\r\n\r\n    $(document).trigger(addEvent)\r\n    if (addEvent.isDefaultPrevented()) {\r\n      if (isNewElement) $toast.remove()\r\n      return null\r\n    }\r\n    // end of trigger\r\n\r\n    // add the toaster container to body\r\n    let container = $(`.ace-toaster-container.position-${_config.placement}`).eq(0)\r\n    if (container.length === 0) {\r\n      container = $(`<div class=\"ace-toaster-container position-${_config.placement}\"/>`).appendTo(document.body)\r\n    }\r\n    if (_config.belowNav) {\r\n      container.addClass('toaster-below-nav')\r\n    }\r\n\r\n    // add to container\r\n    if (_config.placement.indexOf('b') === 0) { // bottom placement\r\n      container.prepend($toast)\r\n    } else {\r\n      container.append($toast)\r\n    }\r\n\r\n    // without having an initial .toast element, fade-in animation isn't taking place??!!\r\n    let dummy = $('#ace-toaster-dummy-toast-1')\r\n    if (dummy.length === 0) dummy = $('<div id=\"ace-toaster-dummy-toast-1\" class=\"toast d-none invisible\"></div>').appendTo('body')\r\n    dummy.toast('show')\r\n    /// ///////////////////////////////////////////////\r\n\r\n    const _toastOptions = {}\r\n    if (_config.sticky === true || _config.autohide === false) _toastOptions.autohide = false\r\n    if (_config.animation === false) _toastOptions.animation = false\r\n    _toastOptions.delay = _config.delay\r\n\r\n    if (_config.width) $toast.css('width', isNaN(_config.width) ? _config.width : _config.width + 'px')\r\n\r\n    $toast\r\n      .toast(_toastOptions)\r\n      .toast('show')\r\n      .one('hidden.bs.toast.1', function () {\r\n        // show it again (invisibly with opacity = 0) and use bootstrap Collapse plugin to hide it, so that other toasts stacked below it move up smoothly\r\n        $toast.removeClass('hide').addClass('show').collapse('hide').one('hidden.bs.collapse', function () {\r\n          $toast.toast('dispose')\r\n          if (_config.autoremove) {\r\n            $toast.remove()\r\n          }\r\n        })\r\n      })\r\n\r\n    // trigger ADDED event before adding it to DOM\r\n    const addedEvent = new $.Event(Event.ADDED)\r\n    addedEvent.target = _toast\r\n\r\n    $(document).trigger(addedEvent)\r\n\r\n    return _toast\r\n  }\r\n\r\n  // hide toasts\r\n  remove (id, instant = false) {\r\n    this.hide(id, true, instant)\r\n  }\r\n\r\n  removeAll (placement = null, instant = false) {\r\n    this.hideAll(placement, true, instant)\r\n  }\r\n\r\n  // remove toast by ID or element reference\r\n  hide (id, remove = false, instant = false) {\r\n    const selector = isNaN(id) ? id : '#ace-toaster-item-' + parseInt(id)\r\n    this._hideBySelector(selector, remove, instant)\r\n  }\r\n\r\n  // remove ALL toasts\r\n  hideAll (placement = null, remove = false, instant = false) {\r\n    // trigger CLEAR event before removing ALL\r\n    const clearEvent = new $.Event(Event.CLEAR) // ,  { placement: placement || 'all', remove: remove })\r\n    $(document).trigger(clearEvent, { placement: placement || 'all', remove: remove })\r\n    if (clearEvent.isDefaultPrevented()) {\r\n      return\r\n    }\r\n    // end of trigger\r\n\r\n    let selector = '.toast.ace-toaster-item'\r\n    if (placement) selector = `.ace-toaster-container.position-${placement} ${selector}`\r\n    this._hideBySelector(selector, remove, instant)\r\n  }\r\n\r\n  _hideBySelector (selector, remove = false, instant = false) {\r\n    $(selector).each(function () {\r\n      const $toast = $(this)\r\n      if (!instant && $toast.is(':visible')) {\r\n        // fade out and then remove\r\n        $toast.toast('hide')\r\n          .off('hidden.bs.toast.1')// remove the previous handler above (because it has autoremove)\r\n          .one('hidden.bs.toast.2', function () {\r\n            $toast.toast('dispose')\r\n            if (remove) $toast.remove()\r\n          })\r\n      } else {\r\n        $toast.toast('dispose')\r\n        // instantly remove if not visible\r\n        if (remove) $toast.remove()\r\n      }\r\n    })\r\n  }\r\n\r\n  // Private methods\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      config = {\r\n        ...{ autoremove: false }, // don't autoremove it\r\n        ...$(this).data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      $.aceToaster.addEl(this, config)\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  $[NAME] = new Toaster()\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Toaster._jQueryInterface\r\n  $.fn[NAME].Constructor = Toaster\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Toaster._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Toaster\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): widget.js\r\n   Widgets based on Bootstrap's cards\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceWidget'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.widget'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`,\r\n  SHOWN: `shown${EVENT_KEY}`,\r\n  HIDDEN: `hidden${EVENT_KEY}`,\r\n  CLOSE: `close${EVENT_KEY}`,\r\n  CLOSED: `closed${EVENT_KEY}`,\r\n  EXPAND: `expand${EVENT_KEY}`,\r\n  EXPANDED: `expanded${EVENT_KEY}`,\r\n  RESTORE: `restore${EVENT_KEY}`,\r\n  RESTORED: `restored${EVENT_KEY}`,\r\n  // RELOADED: `reloaded${EVENT_KEY}`,\r\n  RELOAD: `reload${EVENT_KEY}`,\r\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\nconst Selector = {\r\n  DATA_ACTION: '.card a[data-action]'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Widget {\r\n  constructor (element, config) {\r\n    this._config = this._getConfig(config)\r\n    this._element = element\r\n    this._element.offsetHeight // force reflow, so that if we instantly call 'close' etc, transition effect takes place\r\n    this.$box = $(element)\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  /**\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n  */\r\n\r\n  reload () {\r\n    const ev = new $.Event(Event.RELOAD)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this.startLoading()\r\n  }\r\n\r\n  startLoading (loadingHtml = '<i class=\"bs-card-loading-icon fa fa-spinner fa-spin fa-2x text-white\"></i>') {\r\n    this.$box.append('<div class=\"bs-card-loading-overlay\">' + loadingHtml + '</div>')\r\n  }\r\n\r\n  stopLoading () {\r\n    this.$box.find('.bs-card-loading-overlay').remove()\r\n  }\r\n\r\n  closeFast () {\r\n    const ev = new $.Event(Event.CLOSE)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this.$box.trigger(Event.CLOSED).remove()\r\n  }\r\n\r\n  close () {\r\n    const ev = new $.Event(Event.CLOSE)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    const $box = this.$box\r\n\r\n    const _closeComplete = function () {\r\n      if (this.hasClass('card-expand')) this.next('.card-expanded-placeholder').remove()// remove the placeholder\r\n      this.trigger(Event.CLOSED).remove()\r\n    }\r\n\r\n    if (Util.isReducedMotion()) _closeComplete.call($box)\r\n    else {\r\n      $box.addClass('fade').on('transitionend.close', function (e) {\r\n        if (e.target !== this) return// because transitionend might fire for children elements (like animated toolbar buttons)\r\n        _closeComplete.call($box)\r\n        $box.off('transitionend.close')\r\n      })\r\n    }\r\n  }\r\n\r\n  toggle (type) {\r\n    const $box = this.$box\r\n    const $body = $box.find('.card-body').eq(0)\r\n\r\n    const action = (type && typeof type === 'string' && type.match(/show|hide/)[0]) || ($body.is(':visible') ? 'hide' : 'show')\r\n\r\n    const eventName = action === 'hide' ? 'hide' : 'show'\r\n    const ev = new $.Event(eventName + EVENT_KEY)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._toggleIcon(type && typeof type === 'object' && type instanceof window.HTMLElement ? type : null, action)\r\n\r\n    ///\r\n\r\n    if (action === 'hide') $body.addClass('show')// .show class required for bs collapse plugin\r\n\r\n    const eventCompleteName = action === 'hide' ? 'hidden' : 'shown'\r\n    $body.collapse(action).one(eventCompleteName + '.bs.collapse', function () {\r\n      $box.trigger(eventCompleteName + EVENT_KEY)\r\n    })\r\n  }\r\n\r\n  hide () {\r\n    this.toggle('hide')\r\n  }\r\n\r\n  show () {\r\n    this.toggle('show')\r\n  }\r\n\r\n  toggleFast (type) {\r\n    const $body = this.$box.find('.card-body').eq(0)\r\n    const action = (type && typeof type === 'string' && type.match(/show|hide/)[0]) || ($body.is(':visible') ? 'hide' : 'show')\r\n\r\n    const eventName = action === 'hide' ? 'hide' : 'show'\r\n    const ev = new $.Event(eventName + EVENT_KEY)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    $body.addClass('collapse')\r\n    if (action === 'hide') $body.removeClass('show')\r\n    else $body.addClass('show')\r\n\r\n    this._toggleIcon(type && typeof type === 'object' && type instanceof window.HTMLElement ? type : null, action)\r\n\r\n    const eventCompleteName = action === 'hide' ? 'hidden' : 'shown'\r\n    this.$box.trigger(eventCompleteName + EVENT_KEY)\r\n  }\r\n\r\n  hideFast () {\r\n    this.toggleFast('hide')\r\n  }\r\n\r\n  showFast () {\r\n    this.toggleFast('show')\r\n  }\r\n\r\n  _toggleIcon (button, action) {\r\n    if (!button) {\r\n      button = this.$box.find('a[data-action=toggle]').get(0)\r\n    }\r\n\r\n    //\r\n    if (button) {\r\n      if (action === 'show') {\r\n        button.classList.remove('collapsed')\r\n      } else {\r\n        button.classList.add('collapsed')\r\n      }\r\n    }\r\n  }\r\n\r\n  // fullscreen\r\n  expand (expand, animate) {\r\n    const button = this.$box.find('> .card-header a[data-action=expand]')\r\n\r\n    const $expand = expand === true || !this.$box.hasClass('card-expand')\r\n    animate = !((animate === false || Util.isReducedMotion()))// default is true\r\n\r\n    const $box = this.$box\r\n    const box = $box[0]\r\n\r\n    if ($expand) {\r\n      const ev = new $.Event(Event.EXPAND)\r\n      this.$box.trigger(ev)\r\n      if (ev.isDefaultPrevented()) return\r\n\r\n      button.addClass('active')\r\n\r\n      if (animate) {\r\n        const rect = box.getBoundingClientRect()\r\n        box.setAttribute('style', `left: ${rect.left}px; top: ${rect.top}px; width: ${rect.width}px; height: ${rect.height}px;`)\r\n        box.classList.add('card-expanding')\r\n\r\n        $box.on('transitionend.expanding', function (e) {\r\n          if (e.target !== this) return// because transitionend might fire for children elements (like animated icons of toolbar)\r\n\r\n          $box.off('transitionend.expanding')\r\n            .removeClass('card-expanding')\r\n            .trigger(Event.EXPANDED)\r\n        })\r\n\r\n        const placeholder = document.createElement('DIV')\r\n        placeholder.classList.add('card-expanded-placeholder')\r\n        placeholder.setAttribute('style', `width: ${rect.width}px; height: ${rect.height}px;`)\r\n        box.parentNode.insertBefore(placeholder, box.nextSibling)// insert after\r\n\r\n        box.offsetHeight// reflow...to force browser apply css/dom changes\r\n        box.removeAttribute('style')\r\n      }\r\n\r\n      box.classList.add('card-expand')\r\n      if (!animate) $box.trigger(Event.EXPANDED)\r\n    } else { // restore\r\n      const ev = new $.Event(Event.RESTORE)\r\n      this.$box.trigger(ev)\r\n      if (ev.isDefaultPrevented()) return\r\n\r\n      button.removeClass('active')\r\n\r\n      animate = animate && box.nextElementSibling !== null && box.nextElementSibling.classList.contains('card-expanded-placeholder')\r\n      if (animate) {\r\n        const rect1 = box.nextElementSibling.getBoundingClientRect()\r\n\r\n        box.classList.add('card-expanding')\r\n        box.setAttribute('style', `left: ${rect1.left}px; top: ${rect1.top}px; width: ${rect1.width}px; height: ${rect1.height}px;`)\r\n\r\n        $box.on('transitionend.restoring', function (e) {\r\n          if (e.target !== this) return// because transitionend might fire for children elements (like animated icons of toolbar)\r\n          $box.next().remove()\r\n          $box.off('transitionend.restoring')\r\n            .removeClass('card-expanding')\r\n            .attr('style', '')\r\n            .trigger(Event.RESTORED)\r\n        })\r\n      }\r\n\r\n      box.classList.remove('card-expand')\r\n      if (!animate) $box.trigger(Event.RESTORED)\r\n    }\r\n  }// function expand\r\n\r\n  expandFast () {\r\n    return this.expand(true, false)\r\n  }\r\n\r\n  restore () {\r\n    return this.expand(false)\r\n  }\r\n\r\n  restoreFast () {\r\n    return this.expand(false, false)\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      // ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config, value) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      const _config = {\r\n        // ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Widget(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config](value)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(document).on(Event.CLICK_DATA_API, `${Selector.DATA_ACTION}`, function (event) {\r\n  if (event.currentTarget.tagName === 'A') {\r\n    event.preventDefault()\r\n  }\r\n\r\n  const $actionBtn = $(this)\r\n  const $box = $actionBtn.closest('.card')\r\n  if ($box.length === 0) return\r\n\r\n  const $action = $actionBtn.data('action')\r\n  $box.trigger(event = $.Event($action + EVENT_KEY))\r\n  if (event.isDefaultPrevented()) return\r\n\r\n  $box.aceWidget($action, this)\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Widget._jQueryInterface\r\n  $.fn[NAME].Constructor = Widget\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Widget._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Widget\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): fileinput.js\r\n * Custom styling for default browser file input\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nconst NAME = 'aceFileInput'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.file'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  // PREVIEW: `preview${EVENT_KEY}`,\r\n  INVALID: `invalid${EVENT_KEY}`,\r\n  RESET: `reset${EVENT_KEY}`,\r\n  PREVIEW_FAILED: `preview_failed${EVENT_KEY}`\r\n}\r\n\r\nconst Default = {\r\n  style: false,\r\n  persistent: false,\r\n\r\n  container: 'border-1 brc-grey-l2 brc-h-warning-m1',\r\n\r\n  btnChooseClass: 'bgc-default text-white px-2 pt-2 text-90 my-1px mr-1px',\r\n  btnChangeClass: 'bgc-blue text-white px-2 pt-2 text-90 my-1px mr-1px',\r\n\r\n  btnChooseText: 'Choose',\r\n  btnChangeText: 'Change',\r\n\r\n  placeholderClass: 'text-grey-m2 px-1',\r\n  placeholderText: 'No file chosen',\r\n  placeholderIcon: '<i class=\"fa fa-upload bgc-grey-m1 text-white w-4 py-2 text-center\"></i>',\r\n\r\n  iconClass: 'mx-2px',\r\n\r\n  reset: '',\r\n  resetText: '',\r\n  resetIcon: '<i class=\"fa fa-times\"></i>',\r\n\r\n  droppable: false,\r\n  thumbnail: false, // large, fit, small\r\n  previewImage: true,\r\n\r\n  allowExt: null,\r\n  denyExt: null,\r\n  allowMime: null,\r\n  denyMime: null,\r\n  maxSize: null,\r\n\r\n  previewSize: false,\r\n  previewWidth: false,\r\n  previewHeight: false,\r\n\r\n  // callbacks\r\n  beforeChange: null,\r\n\r\n  fileIcons: {\r\n    file: '<i class=\"fa fa-file bgc-grey-m1 text-white w-4 py-2 text-center\"></i>',\r\n    image: '<i class=\"far fa-image bgc-purple-m1 text-white w-4 py-2 text-center\"></i>',\r\n    video: '<i class=\"fas fa-video bgc-success-m1 text-white w-4 py-2 text-center\"></i>',\r\n    audio: '<i class=\"fas fa-music bgc-pink-m1 text-white w-4 py-2 text-center\"></i>',\r\n    document: '<i class=\"far fa-file-alt bgc-default-d1 text-white w-4 py-2 text-center\"></i>',\r\n    archive: '<i class=\"far fa-file-archive bgc-warning text-white w-4 py-2 text-center\"></i>',\r\n    code: '<i class=\"fas fa-code file-code bgc-secondary text-white w-4 py-2 text-center\"></i>'\r\n  }\r\n}\r\n\r\nconst DefaultType = {\r\n  persistent: 'boolean',\r\n\r\n  style: '(boolean|string)',\r\n\r\n  btn: '(string|undefined)',\r\n  container: '(string|undefined)',\r\n  icon: '(string|undefined)',\r\n\r\n  placeholderText: '(string|undefined)',\r\n  placeholderIcon: '(string|undefined)',\r\n  btnChooseText: '(string|undefined)',\r\n  btnChangeText: '(string|undefined)',\r\n\r\n  reset: '(string|undefined)',\r\n  resetText: '(string|undefined)',\r\n  resetIcon: '(string|undefined)',\r\n\r\n  droppable: 'boolean',\r\n  thumbnail: '(boolean|string)',\r\n  previewImage: 'boolean',\r\n\r\n  allowExt: '(string|null)',\r\n  denyExt: '(string|null)',\r\n  allowMime: '(string|null)',\r\n  denyMime: '(string|null)',\r\n  maxSize: '(number|null)',\r\n\r\n  previewSize: '(boolean|number)',\r\n  previewWidth: '(boolean|number)',\r\n  previewHeight: '(boolean|number)',\r\n\r\n  fileIcons: '(object|null)',\r\n\r\n  // callbacks\r\n  beforeChange: '(function|null)'\r\n}\r\n\r\nconst PreviewError = {\r\n  FILE_LOAD_FAILED: 1,\r\n  IMAGE_LOAD_FAILED: 2,\r\n  THUMBNAIL_FAILED: 3\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass FileInput {\r\n  constructor (element, config) {\r\n    this.settings = this._getConfig(config)\r\n    this.settings.fileIcons = $.extend({}, Default.fileIcons, this.settings.fileIcons)\r\n\r\n    this.fileList = []\r\n    this.selectMethod = ''\r\n\r\n    this._hasMultiple = 'multiple' in document.createElement('INPUT')\r\n    this._hasFileList = 'FileList' in window// file list enabled in modern browsers\r\n    this._hasFileReader = 'FileReader' in window\r\n    this._hasFile = 'File' in window\r\n\r\n    this.element = element\r\n    this.$element = $(element)\r\n    this.disabled = false\r\n    this.canReset = true\r\n\r\n    this._hasAcceptAttr = this.element.getAttribute('accept') !== null\r\n\r\n    this.$element\r\n      .off('change.aceInnerCall')\r\n      .on('change.aceInnerCall', (e, aceInnerCall) => {\r\n        if (this.disabled) return\r\n\r\n        if (aceInnerCall === true) return// this change Event is called from within this class (_enableFileDrop) and extra checkings are taken care of there\r\n        return this._handleOnChange()\r\n      })\r\n\r\n    const parentLabel = this.$element.closest('label').addClass('d-block')\r\n    const tagName = parentLabel.length === 0 ? 'label' : 'span'// if not inside a \"LABEL\" tag, use \"LABEL\" tag, otherwise use \"SPAN\"\r\n    this.$element.wrap('<' + tagName + ' class=\"ace-file-input\" />')\r\n\r\n    this.$wrap = this.$element.parent()\r\n\r\n    this._applySettings()\r\n  }\r\n\r\n  // Getters\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  _getConfig (config, Default) {\r\n    config = {\r\n      ...Default,\r\n      ...config\r\n    }\r\n    bootstrap.Util.typeCheckConfig(NAME, config, DefaultType)\r\n    return config\r\n  }\r\n\r\n  _applySettings () {\r\n    this._isMulti = this.$element.attr('multiple') && this._hasMultiple\r\n    this._isDropStyle = this.settings.style === 'drop'\r\n\r\n    if (this._isDropStyle) {\r\n      if (!this.settings.thumbnail) this.settings.thumbnail = 'small'\r\n      this.$wrap.addClass('ace-file-multiple')\r\n    } else {\r\n      this.$wrap.removeClass('ace-file-multiple')\r\n    }\r\n\r\n    this.$wrap.find('*:not(input[type=file])').remove()// remove all except our input, good for when changing settings\r\n\r\n    const placeholder = `<div class=\"ace-file-placeholder h-100\">\r\n<span class=\"ace-file-icon align-self-center ${this.settings.iconClass || ''}\">\r\n  ${this.settings.placeholderIcon || ''}\r\n</span>\r\n<span class=\"ace-file-name ${this.settings.placeholderClass || ''}\">\r\n  ${this.settings.placeholderText}\r\n</span>` + (!this._isDropStyle ? `<span class=\"ace-file-btn ml-auto ${this.settings.btnChooseClass || ''}\">${this.settings.btnChooseText}</span>` : '') + '</div>'\r\n\r\n    this.$element.after(`<div class=\"ace-file-container d-flex flex-column ${this.settings.container || ''}\">${placeholder}</div>`)\r\n\r\n    this.$container = this.$element.next()\r\n\r\n    if (this.settings.reset !== false) {\r\n      const remove = this.settings.reset.length > 0 ? this.settings.reset : (!this._isDropStyle ? 'position-rc text-danger mr-n25 w-3 radius-2 border-1 brc-h-danger-m4 text-center' : 'position-tr bgc-white text-danger mt-n25 mr-n25 w-4 h-4 text-center pt-2px radius-round border-2 brc-grey-m4 brc-h-danger-m3')\r\n\r\n      const btn = $(`<a title=\"${this.settings.resetText || ''}\" class=\"remove ${remove}\" href=\"#\">${this.settings.resetIcon}</a>`).appendTo(this.$wrap)\r\n\r\n      if (this.settings.resetText) btn.tooltip({ container: 'body' })\r\n\r\n      btn.on('click', (e) => {\r\n        e.preventDefault()\r\n        if (!this.canReset) return false\r\n\r\n        let event\r\n        this.$element.trigger(event = new $.Event(Event.RESET))\r\n        if (event.isDefaultPrevented()) return false\r\n\r\n        this.resetInput()\r\n        this.stopLoading()\r\n\r\n        return false\r\n      })\r\n    }\r\n\r\n    if (this.settings.droppable && this._hasFileList) {\r\n      this._enableFileDrop()\r\n    }\r\n\r\n    // set 'accept' attribute if not set\r\n    if (!this._hasAcceptAttr) {\r\n      this._setAcceptAttr(this.settings.allowExt, this.settings.allowMime)\r\n    }\r\n  }\r\n\r\n  showFileList ($files, innerCall) {\r\n    const files = $files || this.fileList\r\n    if (!files || !files.length) return\r\n\r\n    /// ///////////////////////////////////////////////////////////////\r\n    if (!this.settings.persistent) {\r\n      this.resetInputUI()\r\n    }\r\n\r\n    this.$container.addClass('selected')\r\n    this.$container.find('.ace-file-placeholder').addClass('d-none')\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      let filename = ''; let format = false\r\n      if (typeof files[i] === 'string') filename = files[i]\r\n      else if (this._hasFile && files[i] instanceof window.File) filename = $.trim(files[i].name)\r\n      else if (files[i] instanceof Object && Object.prototype.hasOwnProperty.call(files[i], 'name')) {\r\n        // format & name specified by user (pre-displaying name, etc)\r\n        filename = files[i].name\r\n        if (Object.prototype.hasOwnProperty.call(files[i], 'type')) format = files[i].type\r\n        if (!Object.prototype.hasOwnProperty.call(files[i], 'path')) files[i].path = files[i].name\r\n      } else continue\r\n\r\n      let index = filename.lastIndexOf('\\\\') + 1\r\n      if (index === 0) index = filename.lastIndexOf('/') + 1\r\n      filename = filename.substr(index)\r\n\r\n      if (!format) {\r\n        if ((/\\.(jpe?g|png|gif|svg|bmp|tiff?|webp)$/i).test(filename)) {\r\n          format = 'image'\r\n        } else if ((/\\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i).test(filename)) {\r\n          format = 'video'\r\n        } else if ((/\\.(mp3|ogg|wav|wma|amr|aac)$/i).test(filename)) {\r\n          format = 'audio'\r\n        } else if ((/\\.(pdf|docx?|rtf|txt)$/i).test(filename)) {\r\n          format = 'document'\r\n        } else if ((/\\.(zip|rar|tar)$/i).test(filename)) {\r\n          format = 'archive'\r\n        } else if ((/\\.(html?|js|s?css|less|php|py|aspx?|rb|c|cpp|java|cs)$/i).test(filename)) {\r\n          format = 'code'\r\n        } else format = 'file'\r\n      }\r\n\r\n      const fileIcon = this.settings.fileIcons[format]\r\n\r\n      let className = 'ace-file-item d-flex h-100'\r\n      if (this.settings.thumbnail) className += ` ${this.settings.thumbnail !== 'small' ? 'flex-column my-2px py-2' : 'mx-1 py-1'} align-items-center`\r\n\r\n      const label = $(`<div class=\"${className}\">\r\n<span class=\"ace-file-icon align-self-center ${this.settings.iconClass || ''}\">${fileIcon}</span>\r\n<span class=\"ace-file-name ${this.settings.thumbnail && this.settings.thumbnail !== 'small' ? 'px-2' : 'px-1'}\">${filename}</span>` +\r\n      (!this._isDropStyle ? `<span class=\"ace-file-btn ml-auto ${this.settings.btnChangeClass || ''}\">${this.settings.btnChangeText}</span>` : '') +\r\n      '</div>').appendTo(this.$container)\r\n\r\n      const type = (innerCall === true && this._hasFile && files[i] instanceof window.File) ? $.trim(files[i].type) : ''\r\n      const canPreview = this.settings.previewImage !== false && this._hasFileReader && this.settings.thumbnail\t\t\t\t\t&&\r\n\t\t\t\t\t((type.length > 0 && type.match('image')) || (type.length === 0 && format === 'image'))// the second one is for older Android's default browser which gives an empty text for file.type\r\n      if (canPreview) {\r\n        $.when(this._previewImage(files[i], label))\r\n        // .done( ()  => {\r\n        // if( this.settings.thumbnail === 'small' ) label.find('.ace-file-icon').addClass('thumbnail-img');\r\n        // })\r\n          .fail((result) => {\r\n            this.$element.trigger(Event.PREVIEW_FAILED, { filename: filename, code: result.code })\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  resetInput () {\r\n    this.resetInputUI()\r\n    this.resetInputField()\r\n    this.resetInputData()\r\n\r\n    this.$container.removeClass('selected')\r\n  }\r\n\r\n  resetInputUI () {\r\n    this.$container.find('div:not(.ace-file-placeholder)').remove()\r\n    this.$container.find('.ace-file-placeholder').removeClass('d-none')\r\n\r\n    // this.resetInputData();\r\n  }\r\n\r\n  resetInputField () {\r\n    // http://stackoverflow.com/questions/1043957/clearing-input-type-file-using-jquery/13351234#13351234\r\n    this.$element.wrap('<form>').parent().each((index, formEl) => {\r\n      formEl.reset()\r\n    })\r\n    this.$element.unwrap()\r\n\r\n    // when reset is called on this temporary inner form\r\n    // only **IE10** triggers 'reset' on the outer form as well\r\n    // and as we have mentioned to reset input on outer form reset\r\n    // it causes infinite recusrsion by coming back to resetInputField\r\n    // thus calling reset again and again and again\r\n    // so because when \"reset\" button of outer form is hit, file input is automatically reset\r\n    // we just resetInputUI to avoid recursion\r\n  }\r\n\r\n  resetInputData () {\r\n    this.fileList = []\r\n    this.selectMethod = ''\r\n\r\n    if (this.$element.data('ace_input_files')) {\r\n      this.$element.removeData('ace_input_files')\r\n      this.$element.removeData('ace_input_method')\r\n    }\r\n  }\r\n\r\n  enableReset () {\r\n    this.canReset = true\r\n  }\r\n\r\n  disableReset () {\r\n    this.canReset = false\r\n  }\r\n\r\n  disable () {\r\n    this.disabled = true\r\n    this.$element.attr('disabled', 'disabled').addClass('disabled')\r\n  }\r\n\r\n  enable () {\r\n    this.disabled = false\r\n    this.$element.removeAttr('disabled').removeClass('disabled')\r\n  }\r\n\r\n  files () {\r\n    return this.fileList.length > 0 ? this.fileList : null\r\n  }\r\n\r\n  method () {\r\n    return this.selectMethod\r\n  }\r\n\r\n  updateSettings (newSettings) {\r\n    this.settings = $.extend({}, this.settings, newSettings)\r\n    this._applySettings()\r\n  }\r\n\r\n  startLoading (loadingHtml = '<i class=\"overlay-content fa fa-spin fa-spinner text-white fa-2x\"></i>') {\r\n    let loader = this.$wrap.find('.ace-file-overlay')\r\n    if (loader.length === 0) {\r\n      loader = $('<div class=\"ace-file-overlay text-center\"></div>').appendTo(this.$wrap)\r\n      loader.on('click', (e) => {\r\n        e.stopImmediatePropagation()\r\n        e.preventDefault()\r\n        return false\r\n      })\r\n\r\n      this.element.setAttribute('readonly', 'true')// for IE\r\n    }\r\n    loader.empty().append(loadingHtml)\r\n  }\r\n\r\n  stopLoading () {\r\n    this.$wrap.find('.ace-file-overlay').remove()\r\n    this.element.removeAttribute('readonly')\r\n  }\r\n\r\n  _enableFileDrop () {\r\n    const dropbox = this.$element.parent()\r\n\r\n    dropbox\r\n      .off('dragenter')\r\n      .on('dragenter', (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      })\r\n      .off('dragover')\r\n      .on('dragover', (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      })\r\n      .off('drop')\r\n      .on('drop', (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        if (this.disabled) return\r\n\r\n        const dt = e.originalEvent.dataTransfer\r\n        let tmpFileList = dt.files\r\n        if (!this._isMulti && tmpFileList.length > 1) { // single file upload, but dragged multiple files\r\n          const tmpfiles = []\r\n          tmpfiles.push(tmpFileList[0])\r\n          tmpFileList = tmpfiles// keep only first file\r\n        }\r\n\r\n        tmpFileList = this._processFiles(tmpFileList, true)// true means files have been dropped\r\n        if (tmpFileList === false) return false\r\n\r\n        this.$element.data('ace_input_method', 'drop')\r\n        this.selectMethod = 'drop'\r\n\r\n        // const fileArray = [...tmpFileList]\r\n        const fileArray = []\r\n        for (let f = 0; f < tmpFileList.length; f++) fileArray.push(tmpFileList[f])\r\n\r\n        if (this.settings.persistent) {\r\n          this.fileList = this.fileList.concat(fileArray)\r\n        } else {\r\n          this.fileList = fileArray\r\n        }\r\n        this.$element.data('ace_input_files', this.fileList)\r\n        this.$element.data('ace_input_method', this.selectMethod)\r\n\r\n        this.showFileList(fileArray, true)\r\n\r\n        this.$element.triggerHandler('change', [true])// true means aceInnerCall\r\n        return true\r\n      })\r\n  }\r\n\r\n  /// ///////////\r\n\r\n  _handleOnChange () {\r\n    let tmpFileList = this.element.files || [this.element.value]// make it an array\r\n\r\n    tmpFileList = this._processFiles(tmpFileList, false)// false means files have been selected, not dropped\r\n    if (tmpFileList === false) return false\r\n\r\n    // const fileArray = [...tmpFileList];\r\n    const fileArray = []\r\n    for (let f = 0; f < tmpFileList.length; f++) fileArray.push(tmpFileList[f])\r\n\r\n    this.selectMethod = 'select'\r\n\r\n    if (this.settings.persistent) {\r\n      this.fileList = this.fileList.concat(fileArray)\r\n    } else {\r\n      this.fileList = fileArray\r\n    }\r\n\r\n    this.$element.data('ace_input_files', this.fileList)\r\n    this.$element.data('ace_input_method', this.selectMethod)\r\n\r\n    this.showFileList(fileArray, true)\r\n\r\n    return true\r\n  }\r\n\r\n  _previewImage (file, label) {\r\n    const $icon = label.find('.ace-file-icon')// it should be out of onload, otherwise all onloads may target the same $icon because of delays\r\n    $icon.empty()\r\n\r\n    const deferred = new $.Deferred()\r\n\r\n    const getImage = function (src, $file) {\r\n      $icon.prepend(\"<img style='display: none;' />\")\r\n      const img = $icon.find('img:last').get(0)\r\n\r\n      $(img).one('load', function () {\r\n        imgLoaded(img, $file)\r\n      }).one('error', function () {\r\n        imgFailed(img)\r\n      })\r\n\r\n      img.src = src\r\n    }\r\n    const This = this\r\n    const imgLoaded = function (img, $file) { // if image loaded successfully\r\n      let size = This.settings.previewSize\r\n\r\n      if (!size) {\r\n        if (This.settings.previewWidth || This.settings.previewHeight) {\r\n          size = { previewWidth: This.settings.previewWidth, previewHeight: This.settings.previewHeight }\r\n        } else {\r\n          size = 50\r\n          if (This.settings.thumbnail === 'large') size = 150\r\n        }\r\n      }\r\n      if (This.settings.thumbnail === 'fit') size = $icon.parent().width()\r\n      else if (typeof size === 'number') size = parseInt(Math.min(size, $icon.parent().width()))\r\n\r\n      const svg = /svg/.test($file.type)\r\n      const thumb = !svg ? This._getThumbnail(img, size, $file.type) : false//, file.type;\r\n      if (thumb === null) {\r\n        // if making thumbnail fails\r\n        $(This).remove()\r\n        deferred.reject({ code: PreviewError.THUMBNAIL_FAILED })\r\n        return\r\n      }\r\n\r\n      const showPreview = true\r\n      /**\r\n      // add width/height info to \"file\" and trigger preview finished event for each image!\r\n      if ($file && $file instanceof window.File) {\r\n        if (thumb) {\r\n          $file.width = thumb.width\r\n          $file.height = thumb.height\r\n        }\r\n\r\n        var event\r\n        This.$element.trigger(event = new $.Event(Event.PREVIEW), { file: $file })\r\n        if (event.isDefaultPrevented()) showPreview = false\r\n      }\r\n      */\r\n\r\n      if (showPreview) {\r\n        if (svg) {\r\n          if (This.settings.thumbnail === 'small') {\r\n            $(img).css({ width: size })\r\n          } else {\r\n            if (img.width > img.height) { $(img).css({ width: size }) } else $(img).css({ height: size })\r\n          }\r\n        } else {\r\n          let w = thumb.previewWidth; let h = thumb.previewHeight\r\n\r\n          if (This.settings.thumbnail === 'small') { w = h = parseInt(Math.max(w, h)) } else $icon.addClass('thumbnail-large')\r\n\r\n          $(img).css({ background: 'url(' + thumb.src + ') center no-repeat', width: w, height: h })\r\n            .data('src', thumb.src)\r\n            .attr({ src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==' })\r\n        }\r\n\r\n        img.style.display = ''\r\n      }\r\n\r\n      /// ////////////////\r\n      deferred.resolve()\r\n    }\r\n    const imgFailed = function () {\r\n      // for example when a file has image extenstion, but format is something else\r\n      $icon.find('img').remove()\r\n      deferred.reject({ code: PreviewError.IMAGE_LOAD_FAILED })\r\n    }\r\n\r\n    if (this._hasFile && file instanceof window.File) {\r\n      const reader = new window.FileReader()\r\n      reader.onload = function (e) {\r\n        getImage(e.target.result, file)\r\n      }\r\n      reader.onerror = function (e) {\r\n        deferred.reject({ code: PreviewError.FILE_LOAD_FAILED })\r\n      }\r\n      reader.readAsDataURL(file)\r\n    } else {\r\n      if (file instanceof Object && Object.prototype.hasOwnProperty.call(file, 'path')) {\r\n        getImage(file.path, file)// file is a file name (path) --- this is used to pre-show user-selected image\r\n      }\r\n    }\r\n\r\n    return deferred.promise()\r\n  }\r\n\r\n  /// //////////\r\n\r\n  _getThumbnail (img, size, type) {\r\n    let imgWidth = img.width; let imgHeight = img.height\r\n\r\n    //* *IE10** is not giving correct width using img.width so we use $(img).width()\r\n    imgWidth = imgWidth > 0 ? imgWidth : $(img).width()\r\n    imgHeight = imgHeight > 0 ? imgHeight : $(img).height()\r\n\r\n    let previewSize = false; let previewHeight = false; let previewWidth = false\r\n    if (typeof size === 'number') previewSize = size\r\n    else if (size instanceof Object) {\r\n      if (size.previewWidth && !size.previewHeight) previewWidth = size.previewWidth\r\n      else if (size.previewHeight && !size.previewWidth) previewHeight = size.previewHeight\r\n      else if (size.previewWidth && size.previewHeight) {\r\n        previewWidth = size.previewWidth\r\n        previewHeight = size.previewHeight\r\n      }\r\n    }\r\n\r\n    if (previewSize) {\r\n      if (imgWidth > imgHeight) {\r\n        previewWidth = previewSize\r\n        previewHeight = parseInt(imgHeight / imgWidth * previewWidth)\r\n      } else {\r\n        previewHeight = previewSize\r\n        previewWidth = parseInt(imgWidth / imgHeight * previewHeight)\r\n      }\r\n    } else {\r\n      if (!previewHeight && previewWidth) {\r\n        previewHeight = parseInt(imgHeight / imgWidth * previewWidth)\r\n      } else if (previewHeight && !previewWidth) {\r\n        previewWidth = parseInt(imgWidth / imgHeight * previewHeight)\r\n      }\r\n    }\r\n\r\n    let dataURL\r\n    try {\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = previewWidth; canvas.height = previewHeight\r\n      const context = canvas.getContext('2d')\r\n      context.imageSmoothingQuality = 'medium'\r\n      context.drawImage(img, 0, 0, imgWidth, imgHeight, 0, 0, previewWidth, previewHeight)\r\n      dataURL = canvas.toDataURL(type, 0.8)\r\n      // dataURL = canvas.toDataURL();\r\n    } catch (e) {\r\n      dataURL = null\r\n    }\r\n    if (!dataURL) return null\r\n\r\n    // there was only one image that failed in firefox completely randomly! so let's double check things\r\n    if (!(/^data:image\\/(png|jpe?g|gif|svg);base64,[0-9A-Za-z+/=]+$/.test(dataURL))) dataURL = null\r\n    if (!dataURL) return null\r\n\r\n    return { src: dataURL, previewWidth: previewWidth, previewHeight: previewHeight, width: imgWidth, height: imgHeight }\r\n  }\r\n\r\n  _processFiles (tmpFileList, dropped) {\r\n    let ret = this._checkFileList(tmpFileList, dropped)\r\n    if (ret === -1) {\r\n      this.resetInput()\r\n      return false\r\n    }\r\n    if (!ret || ret.length === 0) {\r\n      if (!this.$element.data('ace_input_files')) this.resetInput()\r\n      // if nothing selected before, reset because of the newly unacceptable (ret=false||length=0) selection\r\n      // otherwise leave the previous selection intact?!!!\r\n      return false\r\n    }\r\n    if (ret instanceof Array || (this._hasFileList && ret instanceof window.FileList)) tmpFileList = ret\r\n\r\n    ret = true\r\n\r\n    if (this.settings.beforeChange) ret = this.settings.beforeChange.call(this.element, tmpFileList, dropped)\r\n    if (ret === -1) {\r\n      this.resetInput()\r\n      return false\r\n    }\r\n    if (!ret || ret.length === 0) {\r\n      if (!this.$element.data('ace_input_files')) this.resetInput()\r\n      return false\r\n    }\r\n\r\n    // inside beforeChange you can return a modified File Array as result\r\n    if (ret instanceof Array || (this._hasFileList && ret instanceof window.FileList)) tmpFileList = ret\r\n\r\n    return tmpFileList\r\n  }\r\n\r\n  /// ///////\r\n\r\n  _checkFileList (files, dropped) {\r\n    const allowExt = this._getExtRegex(this.settings.allowExt)\r\n\r\n    const denyExt = this._getExtRegex(this.settings.denyExt)\r\n\r\n    const allowMime = this._getMimeRegex(this.settings.allowMime)\r\n\r\n    const denyMime = this._getMimeRegex(this.settings.denyMime)\r\n\r\n    const maxSize = this.settings.maxSize || false\r\n\r\n    if (!(allowExt || denyExt || allowMime || denyMime || maxSize)) return true// no checking required\r\n\r\n    const safeFiles = []\r\n    const errorList = {}\r\n    // for (const file of files) {\r\n    for (let i = 0; i < files.length; i++) {\r\n      const file = files[i]\r\n      // file is either a string(file name) or a File object\r\n      const filename = !this._hasFile ? file : file.name\r\n      if (allowExt && !allowExt.test(filename)) {\r\n        // extension not matching whitelist, so drop it\r\n        if (!('ext' in errorList)) errorList.ext = []\r\n        errorList.ext.push(filename)\r\n\r\n        continue\r\n      } else if (denyExt && denyExt.test(filename)) {\r\n        // extension is matching blacklist, so drop it\r\n        if (!('ext' in errorList)) errorList.ext = []\r\n        errorList.ext.push(filename)\r\n\r\n        continue\r\n      }\r\n\r\n      let type\r\n      if (!this._hasFile) {\r\n        // in browsers that don't support FileReader API\r\n        safeFiles.push(file)\r\n        continue\r\n      } else if ((type = $.trim(file.type)).length > 0) {\r\n        // there is a mimetype for file so let's check against are rules\r\n        if (allowMime && !allowMime.test(type)) {\r\n          // mimeType is not matching whitelist, so drop it\r\n          if (!('mime' in errorList)) errorList.mime = []\r\n          errorList.mime.push(filename)\r\n          continue\r\n        } else if (denyMime && denyMime.test(type)) {\r\n          // mimeType is matching blacklist, so drop it\r\n          if (!('mime' in errorList)) errorList.mime = []\r\n          errorList.mime.push(filename)\r\n          continue\r\n        }\r\n      }\r\n\r\n      if (maxSize && file.size > maxSize) {\r\n        // file size is not acceptable\r\n        if (!('size' in errorList)) errorList.size = []\r\n        errorList.size.push(filename)\r\n        continue\r\n      }\r\n\r\n      safeFiles.push(file)\r\n    }\r\n\r\n    if (safeFiles.length === files.length) return files// return original file list if all are valid\r\n\r\n    /// //////\r\n    const errorCount = { ext: 0, mime: 0, size: 0 }\r\n    if ('ext' in errorList) errorCount.ext = errorList.ext.length\r\n    if ('mime' in errorList) errorCount.mime = errorList.mime.length\r\n    if ('size' in errorList) errorCount.size = errorList.size.length\r\n\r\n    let event\r\n    this.$element.trigger(\r\n      event = new $.Event(Event.INVALID),\r\n      {\r\n        fileCount: files.length,\r\n        invalidCount: files.length - safeFiles.length,\r\n        errorList: errorList,\r\n        errorCount: errorCount,\r\n        dropped: dropped\r\n      }\r\n    )\r\n    if (event.isDefaultPrevented()) return -1// it will reset input\r\n    /// ///////\r\n\r\n    return safeFiles// return safeFiles\r\n  }\r\n\r\n  _setAcceptAttr (ext = '', mime = '') {\r\n    if (ext) {\r\n      if (Array.isArray(ext)) ext = ext.join(',.')\r\n      else ext = ext.replace(/\\|/g, ',.')\r\n      ext = '.' + ext\r\n    }\r\n\r\n    if (mime) {\r\n      if (Array.isArray(mime)) mime = mime.join(',')\r\n      // replace `/\\w+` with `/*` ... for example, `image/\\w+` becomes `image/*`\r\n      else mime = mime.replace(/\\|/g, ',').replace(/\\/\\\\w+/g, '/*')\r\n    }\r\n\r\n    let accept = (ext || '') + (ext && mime ? ',' : '') + (mime || '')\r\n    accept = accept.replace(/\\s/g, '')\r\n    if (accept) this.element.setAttribute('accept', accept)\r\n  }\r\n\r\n  _getExtRegex (ext) {\r\n    if (!ext) return null\r\n    if (Array.isArray(ext)) ext = ext.join('|')\r\n    if (ext.length === 0) return null\r\n    return new RegExp('\\\\.(?:' + ext + ')$', 'i')\r\n  }\r\n\r\n  _getMimeRegex (mime) {\r\n    if (!mime) return null\r\n    if (Array.isArray(mime)) mime = mime.join('|')\r\n    if (mime.length === 0) return null\r\n    // replace `/*` with `/\\w+` ... for example, `image/*` becomes `image/\\w+`\r\n    return new RegExp('^(?:' + mime.replace(/\\/\\*/g, '/\\\\w+').replace(/\\//g, '\\\\/') + ')$', 'i')\r\n  }\r\n\r\n  static _jQueryInterface (config, value) {\r\n    let retval\r\n    const reteach = this.each(function () {\r\n      const matches = this.matches ? this.matches('input[type=file]') : (this.msMatchesSelector ? this.msMatchesSelector('input[type=file]') : false)\r\n      if (!matches) return\r\n\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new FileInput(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        retval = data[config](value)\r\n      }\r\n    })\r\n\r\n    return (typeof retval !== 'undefined') ? retval : reteach\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = FileInput._jQueryInterface\r\n  $.fn[NAME].Constructor = FileInput\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return FileInput._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default FileInput\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): wysiwyg.js\r\n   Wrapper for Bootstrap wyswiwyg plugin\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceWysiwyg'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.wysiwyg'\r\n\r\nconst DefaultType = {\r\n  wysiwyg: 'object',\r\n  colors: 'array',\r\n  // speech: 'boolean',\r\n  toolbar: 'array',\r\n  toolbarPlacement: '(function|null)',\r\n  toolbarStyle: '(string|number)'\r\n}\r\n\r\nconst Default = {\r\n  wysiwyg: {},\r\n  // speech: true,\r\n  toolbarPlacement: null,\r\n  toolbarStyle: '',\r\n\r\n  colors: ['#000000', '#424242', '#636363', '#9c9c94', '#cec6ce', '#efefef', '#f7f7f7', '#ffffff',\r\n    '#ff0000', '#ff9c00', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#9c00ff', '#ff00ff',\r\n    '#f7c6ce', '#ffe7ce', '#ffefc6', '#d6efd6', '#cedee7', '#cee7f7', '#d6d6e7', '#e7d6de',\r\n    '#e79c9c', '#ffc69c', '#ffe79c', '#b5d6a5', '#a5c6ce', '#9cc6ef', '#b5a5d6', '#d6a5bd',\r\n    '#e76363', '#f7ad6b', '#ffd663', '#94bd7b', '#73a5ad', '#6badde', '#8c7bc6', '#c67ba5',\r\n    '#ce0000', '#e79439', '#efc631', '#6ba54a', '#4a7b8c', '#3984c6', '#634aa5', '#a54a7b',\r\n    '#9c0000', '#b56308', '#bd9400', '#397b21', '#104a5a', '#085294', '#311873', '#731842',\r\n    '#630000', '#7b3900', '#846300', '#295218', '#083139', '#003163', '#21104a', '#4a1031'],\r\n\r\n  toolbar: ['font', null, 'fontSize', null, 'bold', 'italic', 'strikethrough', 'underline', null, 'insertunorderedlist', 'insertorderedlist',\r\n    'outdent', 'indent', null, 'justifyleft', 'justifycenter', 'justifyright', 'justifyfull', null, 'createLink', 'unlink', null,\r\n    'insertImage', null, 'foreColor', null, 'undo', 'redo', null, 'viewSource']\r\n}\r\n\r\nclass Wysiwyg {\r\n  constructor (element, config) {\r\n    this._element\t= element\r\n    this._config = this._getConfig(config)\r\n\r\n    this.initEditor()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  initEditor () {\r\n    const toolbarHtml = this._createToolbarHtml()\r\n    let toolbar\r\n    // if we have a function to decide where to put the toolbar, then call that\r\n    if (this._config.toolbarPlacement) toolbar = this._config.toolbarPlacement.call(this._element, toolbarHtml)\r\n    else toolbar = $(this._element).before(toolbarHtml).prev()// otherwise put it just before our DIV\r\n\r\n    if (this._config.toolbarStyle) toolbar.addClass('bsw-toolbar-style-' + this._config.toolbarStyle)\r\n\r\n    // enable tooltips\r\n    if ($.fn.tooltip) toolbar.find('a[title]').tooltip({ animation: false, container: 'body' })\r\n\r\n    toolbar.find('.dropdown-menu input[type=text]').on('click', function () { return false })\r\n      .on('change', function () { $(this).closest('.dropdown-menu').siblings('.dropdown-toggle').dropdown('toggle') })\r\n      .on('keydown', function (e) {\r\n        if (e.which === 27) {\r\n          this.value = ''\r\n          $(this).change()\r\n        } else if (e.which === 13) {\r\n          e.preventDefault()\r\n          e.stopPropagation()\r\n          $(this).change()\r\n        }\r\n      })\r\n\r\n    toolbar.find('input[type=file]').prev().on('click', function (e) {\r\n      $(this).next().click()\r\n    })\r\n\r\n    const self = $(this._element)\r\n    // view source\r\n    let viewSource = false\r\n    toolbar.find('a[data-toggle=source]').on('click', function (e) {\r\n      e.preventDefault()\r\n\r\n      if (!viewSource) {\r\n        $('<textarea />')\r\n          .css({ width: self.outerWidth(), height: self.outerHeight() })\r\n          .val(self.html())\r\n          .insertAfter(self)\r\n        self.addClass('d-none')\r\n\r\n        $(this).addClass('active')\r\n      } else {\r\n        const textarea = self.next()\r\n        self.html(textarea.val()).removeClass('d-none')\r\n        textarea.remove()\r\n\r\n        $(this).removeClass('active')\r\n      }\r\n\r\n      viewSource = !viewSource\r\n    })\r\n\r\n    // initiate wysiwyg plugin\r\n    const $options = $.extend({}, { activeToolbarClass: 'active', toolbarSelector: toolbar }, this._config.wysiwyg || {})\r\n    $(this._element).wysiwyg($options)\r\n\r\n    this._handleImages()\r\n  }\r\n\r\n  _createToolbarHtml () {\r\n    const _buttonDefaults =\t{\r\n      font: {\r\n        values: ['Arial', 'Courier', 'Comic Sans MS', 'Helvetica', 'Open Sans', 'Tahoma', 'Verdana'],\r\n        icon: 'fa fa-font text-secondary',\r\n        title: 'Font'\r\n      },\r\n      fontSize: {\r\n        values: { 5: 'Huge', 3: 'Normal', 1: 'Small' },\r\n        icon: 'fa fa-text-height text-secondary',\r\n        title: 'Font Size'\r\n      },\r\n      bold: {\r\n        icon: 'fa fa-bold text-secondary',\r\n        title: 'Bold (Ctrl/Cmd+B)'\r\n      },\r\n      italic: {\r\n        icon: 'fa fa-italic text-secondary',\r\n        title: 'Italic (Ctrl/Cmd+I)'\r\n      },\r\n      strikethrough: {\r\n        icon: 'fa fa-strikethrough text-secondary',\r\n        title: 'Strikethrough'\r\n      },\r\n      underline: {\r\n        icon: 'fa fa-underline text-secondary',\r\n        title: 'Underline'\r\n      },\r\n      insertunorderedlist: {\r\n        icon: 'fa fa-list-ul text-secondary',\r\n        title: 'Bullet list'\r\n      },\r\n      insertorderedlist: {\r\n        icon: 'fa fa-list-ol text-secondary',\r\n        title: 'Number list'\r\n      },\r\n      outdent: {\r\n        icon: 'fa fa-outdent text-secondary',\r\n        title: 'Reduce indent (Shift+Tab)'\r\n      },\r\n      indent: {\r\n        icon: 'fa fa-indent text-secondary',\r\n        title: 'Indent (Tab)'\r\n      },\r\n      justifyleft: {\r\n        icon: 'fa fa-align-left text-secondary',\r\n        title: 'Align Left (Ctrl/Cmd+L)'\r\n      },\r\n      justifycenter: {\r\n        icon: 'fa fa-align-center text-secondary',\r\n        title: 'Center (Ctrl/Cmd+E)'\r\n      },\r\n      justifyright: {\r\n        icon: 'fa fa-align-right text-secondary',\r\n        title: 'Align Right (Ctrl/Cmd+R)'\r\n      },\r\n      justifyfull: {\r\n        icon: 'fa fa-align-justify text-secondary',\r\n        title: 'Justify (Ctrl/Cmd+J)'\r\n      },\r\n      createLink: {\r\n        icon: 'fa fa-link text-secondary',\r\n        title: 'Hyperlink',\r\n        button_text: 'Add',\r\n        placeholder: 'URL',\r\n        button_class: 'btn-light-primary'\r\n      },\r\n      unlink: {\r\n        icon: 'fa fa-unlink text-secondary',\r\n        title: 'Remove Hyperlink'\r\n      },\r\n      insertImage: {\r\n        icon: 'fa fa-image text-secondary',\r\n        title: 'Insert picture',\r\n        button_text: '<i class=\"far fa-file mr-1\"></i> Choose an Image &hellip;',\r\n        placeholder: 'Remote Image URL',\r\n        button_insert: 'Insert',\r\n        button_class: 'btn-light-success',\r\n        button_insert_class: 'btn-light-primary',\r\n        choose_file: true // show the choose file button?\r\n      },\r\n      foreColor: {\r\n        icon: 'fas fa-eye-dropper text-pink-m1',\r\n        values: this._config.colors,\r\n        title: 'Foreground Color'\r\n      },\r\n      backColor: {\r\n        icon: 'fas fa-fill-drip text-secondary',\r\n        values: this._config.colors,\r\n        title: 'Background Color'\r\n      },\r\n      removeFormat: {\r\n        icon: 'fa fa-eraser text-secondary',\r\n        title: 'Remove Format'\r\n      },\r\n      undo: {\r\n        icon: 'fa fa-undo text-secondary',\r\n        title: 'Undo (Ctrl/Cmd+Z)'\r\n      },\r\n      redo: {\r\n        icon: 'fa fa-redo text-secondary',\r\n        title: 'Redo (Ctrl/Cmd+Y)'\r\n      },\r\n      viewSource: {\r\n        icon: 'fa fa-code text-secondary',\r\n        title: 'View Source'\r\n      }\r\n    }\r\n\r\n    const toolbarButtons = this._config.toolbar\r\n    let toolbarHtml = ' <div class=\"bootstrap-wysiwyg-toolbar btn-toolbar text-center\"> <div class=\"btn-group mb-2px\"> '\r\n\r\n    for (const tb in toolbarButtons) {\r\n      if (Object.prototype.hasOwnProperty.call(toolbarButtons, tb)) {\r\n        let button = toolbarButtons[tb]\r\n        if (button === null) {\r\n          toolbarHtml += ' </div> <div class=\"btn-group mb-2px\"> '\r\n          continue\r\n        }\r\n\r\n        if (typeof button === 'string' && button in _buttonDefaults) {\r\n          button = _buttonDefaults[button]\r\n          button.name = toolbarButtons[tb]\r\n        } else if (typeof button === 'object' && button.name in _buttonDefaults) {\r\n          button = $.extend(_buttonDefaults[button.name], button)\r\n        } else continue\r\n\r\n        const className = 'className' in button ? button.className : 'btn-sm btn-outline-secondary btn-h-light-dark btn-a-light-dark'\r\n        switch (button.name) {\r\n          case 'font':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i><i class=\"fa fa-angle-down ml-1 text-secondary-m2\"></i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu radius-1 brc-secondary-m4\">'\r\n            for (const font in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, font)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item\"><a data-edit=\"fontName ${button.values[font]}\" style=\"font-family:'${button.values[font]}'\">${button.values[font]}</a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div>'\r\n            break\r\n\r\n          case 'fontSize':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i>&nbsp;<i class=\"fa fa-angle-down ml-1 text-secondary-m2\"></i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu radius-1 brc-secondary-m4\"> '\r\n            for (const size in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, size)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item\"><a data-edit=\"fontSize ${size}\"><font size=\"${size}\">${button.values[size]}</font></a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div> '\r\n            break\r\n\r\n          case 'createLink':\r\n            toolbarHtml += ` <div class=\"btn-group\"> <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ` <div class=\"dropdown-menu py-1 px-3 brc-default-m3 border-2 radius-1 shadow-sm\" style=\"min-width: 300px;\">\r\n\t\t\t\t\t\t <div class=\"input-group my-3\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"${button.placeholder}\" type=\"text\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_class}\" type=\"button\">${button.button_text}</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t </div>\r\n\t\t\t\t\t</div> </div>`\r\n            break\r\n\r\n          case 'insertImage':\r\n            toolbarHtml += ` <div class=\"btn-group\"> <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu p-3 brc-default-m3 border-2 radius-1 shadow-sm\" style=\"min-width: 300px;\">'\r\n            if (button.choose_file && 'FileReader' in window) {\r\n              toolbarHtml +=\r\n              `<div class=\"text-secondary-d1\">Drag &amp; drop images into editor or</div>\r\n\t\t\t\t\t\t   <label class=\"text-center d-block mt-3 mb-0\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_class} wysiwyg-choose-file\" type=\"button\">${button.button_text}</button>\r\n\t\t\t\t\t\t\t<input type=\"file\" class=\"file-input-invisible\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t   </label><hr /> `\r\n            }\r\n\r\n            toolbarHtml += `<div class=\"input-group my-3\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"${button.placeholder}\" type=\"text\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_insert_class}\" type=\"button\">${button.button_insert}</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t </div>`\r\n            toolbarHtml += ' </div> </div>'\r\n\r\n            break\r\n\r\n          case 'foreColor':\r\n          case 'backColor':\r\n            toolbarHtml += `<div class=\"mr-1px\"><a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu p-1 brc-secondary-m4 border-1 radius-1\" style=\"min-width:auto;width:10.66rem;\"><div class=\"d-flex flex-wrap\">'\r\n            for (const color in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, color)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item m-0 p-0 d-inline-block w-auto\"><a class=\"p-0 dh-zoom-3\" role=\"button\" data-edit=\"${button.name} ${button.values[color]}\" style=\"width:1.25rem;height:1.25rem;background-color:${button.values[color]};\"></a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div></div></div>'\r\n            break\r\n\r\n          case 'viewSource':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className}\" data-toggle=\"source\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            break\r\n          default:\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className}\" data-edit=\"${button.name}\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            break\r\n        }\r\n      }\r\n    }\r\n    toolbarHtml += ' </div> '// for .btn-group\r\n\r\n    // var speech_input;\r\n    // if (this._config.speech && 'onwebkitspeechchange' in (speech_input = document.createElement('input'))) {\r\n    // toolbarHtml += ' <input class=\"wysiwyg-speech-input\" type=\"text\" data-edit=\"inserttext\" x-webkit-speech />';\r\n    // }\r\n    // speech_input = null;\r\n    /// /////////\r\n    toolbarHtml += ' </div> '// for .btn-toolbar\r\n\r\n    return toolbarHtml\r\n  }\r\n\r\n  _handleImages () {\r\n    // option for resizing an image\r\n    let currentImg = null\r\n    $(this._element).on('click', 'img', function (ev) {\r\n      if (currentImg) $(currentImg).popover('dispose')\r\n\r\n      currentImg = this\r\n      if (!$(currentImg).data('original-width')) $(currentImg).data('original-width', currentImg.width)\r\n\r\n      $(currentImg).popover({\r\n        container: 'body',\r\n        html: true,\r\n        placement: function (popover) {\r\n          const offset = currentImg.getBoundingClientRect()\r\n          const scrollTop = document.scrollTop || document.documentElement.scrollTop || document.body.scrollTop\r\n          $(popover).addClass('popover-wysiwyg-image shadow brc-secondary-m4').css({ 'margin-left': (offset.left + 4) + 'px', 'margin-top': (offset.top + scrollTop + 4) + 'px' })\r\n\r\n          return 'auto'\r\n        },\r\n        title: 'Image Size & Position',\r\n        trigger: 'manual',\r\n        content: function () {\r\n          return $(`<div class='btn-group'>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='0.25'>25%</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='0.50'>50%</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='1'>100%</button>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <input type='number' class='form-control d-inline-block form-control-sm' data-action='resize' style='max-width: 96px;' placeholder='specify width' value='${currentImg.width}' />\r\n\t\t\t\t\t\t\t  <hr class='my-2' />\r\n\t\t\t\t\t\t\t  <div class='btn-group'>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='left'>left</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='right'>right</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='none'>none</button>\r\n\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t <div class='btn-group float-right'>\r\n\t\t\t\t\t\t\t\t<button type='button' tooltip='Remove image' class='btn btn-sm btn-danger border-2 radius-round' data-action='remove'><i class='fa fa-trash-alt text-red'></i></button>\r\n\t\t\t\t\t\t\t </div>`)\r\n        }\r\n      }).popover('show')\r\n\r\n      $(document).on('click.popover-wysiwyg-image', function (ev) {\r\n        if (ev.target === currentImg) return\r\n\r\n        if ($(ev.target).closest('.popover-wysiwyg-image').length > 0) {\r\n          return\r\n        }\r\n\r\n        if (currentImg) $(currentImg).popover('hide')\r\n\r\n        currentImg = null\r\n        $(document).off('click.popover-wysiwyg-image')\r\n      })\r\n    })\r\n\r\n    $(document).on('click', '.popover-wysiwyg-image button.btn', function () {\r\n      if (!currentImg) return\r\n      const action = $(this).data('action')\r\n      const value = $(this).data('value')\r\n\r\n      if (action === 'resize') {\r\n        const width = parseInt($(currentImg).data('original-width') * value)\r\n        $(currentImg).css({ width: width })\r\n        $('.popover-wysiwyg-image input[type=number]').val(width)\r\n      }\r\n      if (action === 'align') $(currentImg).attr('class', 'float-' + value)\r\n      else if (action === 'remove') {\r\n        $(currentImg).popover('dispose').remove()// fadeOut(200, function() { $(this).remove() });\r\n        currentImg = null\r\n      }\r\n    })\r\n\r\n    $(document).on('change', '.popover-wysiwyg-image input[type=number]', function () {\r\n      if (currentImg) $(currentImg).css({ width: $(this).val() + 'px' })\r\n    })\r\n    /// //////////////\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Wysiwyg(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Wysiwyg._jQueryInterface\r\n  $.fn[NAME].Constructor = Wysiwyg\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Wysiwyg._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Wysiwyg\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): tab-scroll.js\r\n   Extra functionality for auto-scrolling tab buttons (in small devices)\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME1 = 'aceTabScroll'\r\nconst NAME2 = 'aceTabLinkScroll'\r\n\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.tabscroll'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  TAB_SCROLL: '.nav-tabs-scroll',\r\n  ACTIVE: '.active'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definitions\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass NavTabScroller {\r\n  constructor (element) {\r\n    this._element = element\r\n\r\n    this._firefox = 'MozAppearance' in document.documentElement.style\r\n\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    // scroll to active element on page load\r\n    const active = this._element.querySelector(Selector.ACTIVE)\r\n    if (active) {\r\n      const navLinkScroll = new NavLinkScroller(active)\r\n      if (!this._firefox) {\r\n        navLinkScroll._scrollIntoView(false)\r\n      } else { // still firefox doesn't scroll back to `zero` on page load!\r\n        setTimeout(() => {\r\n          this._element.scrollLeft = 1\r\n          navLinkScroll._scrollIntoView(false)\r\n        }, 500)\r\n      }\r\n    }\r\n\r\n    this.enable()\r\n  }\r\n\r\n  enable () {\r\n    if (!('closest' in document.documentElement)) return\r\n\r\n    this._element.addEventListener('click', (ev) => {\r\n      const navLink = ev.target.closest('a')\r\n      if (!navLink) return\r\n\r\n      const navLinkScroll = new NavLinkScroller(navLink)\r\n      navLinkScroll._scrollIntoView()\r\n    })\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = new NavTabScroller(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nclass NavLinkScroller {\r\n  constructor (element) {\r\n    this._element = element\r\n\r\n    this._firefox = 'MozAppearance' in document.documentElement.style\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  // scroll tab button elements into view when clicked\r\n  _scrollIntoView (smooth = true) {\r\n    const li = this._element.parentNode\r\n    const nav = li.parentNode\r\n\r\n    const navClientWidth = nav.clientWidth\r\n    const navScrollWidth = nav.scrollWidth\r\n    if (navScrollWidth <= navClientWidth) return // don't scroll if not needed\r\n\r\n    const isRTL = Util.isRTL()\r\n\r\n    // scroll to this element (center it)\r\n    let _scrollLeft\r\n    if (!isRTL) {\r\n      _scrollLeft = li.offsetLeft - (navClientWidth - li.clientWidth) / 2\r\n    } else {\r\n      // firefox and webkit have different ways of dealing with scrolling right/left and offsets in RTL mode\r\n      if (!this._firefox) {\r\n        _scrollLeft = (navScrollWidth - navClientWidth) + (li.offsetLeft) - ((navClientWidth - li.clientWidth) / 2)\r\n      } else {\r\n        _scrollLeft = li.offsetLeft - ((navClientWidth - li.clientWidth) / 2)\r\n      }\r\n    }\r\n    _scrollLeft = _scrollLeft | 0 // convert FLOAT to INT\r\n\r\n    smooth = !Util.isReducedMotion() && smooth === true\r\n    try {\r\n      nav.scrollTo({\r\n        top: 0,\r\n        left: _scrollLeft,\r\n        behavior: smooth ? 'smooth' : 'auto'\r\n      })\r\n\r\n      // firefox needs extra push when scrolling back\r\n      if (this._firefox && _scrollLeft < nav.scrollLeft) {\r\n        setTimeout(function () {\r\n          nav.scrollTo({\r\n            top: 0,\r\n            left: _scrollLeft,\r\n            behavior: smooth ? 'smooth' : 'auto'\r\n          })\r\n        }, 0)\r\n      }\r\n    } catch (e) {\r\n      nav.scrollLeft = _scrollLeft\r\n    }\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = new NavLinkScroller(this)\r\n        $this.data(DATA_KEY, data)\r\n        data._scrollIntoView()\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  const scrollableNavTabs = document.querySelectorAll(Selector.TAB_SCROLL)\r\n\r\n  for (let i = 0; i < scrollableNavTabs.length; i++) {\r\n    const $tabscroll = $(scrollableNavTabs[i])\r\n    NavTabScroller._jQueryInterface.call($tabscroll)\r\n  }\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT1 = $.fn[NAME1]\r\n  $.fn[NAME1] = NavTabScroller._jQueryInterface\r\n  $.fn[NAME1].Constructor = NavTabScroller\r\n  $.fn[NAME1].noConflict = () => {\r\n    $.fn[NAME1] = JQUERY_NO_CONFLICT1\r\n    return NavTabScroller._jQueryInterface\r\n  }\r\n\r\n  const JQUERY_NO_CONFLICT2 = $.fn[NAME2]\r\n  $.fn[NAME2] = NavLinkScroller._jQueryInterface\r\n  $.fn[NAME2].Constructor = NavLinkScroller\r\n  $.fn[NAME2].noConflict = () => {\r\n    $.fn[NAME2] = JQUERY_NO_CONFLICT2\r\n    return NavLinkScroller._jQueryInterface\r\n  }\r\n}\r\n\r\nexport {\r\n  NavTabScroller,\r\n  NavLinkScroller\r\n}\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): tab-swipe.js\r\n   Extra functionality for swiping tabs such\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceTabSwipe'\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.tabswipe'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  TAB_SWIPE: '.tab-sliding:not([data-swipe=\"none\"])',\r\n  ACTIVE: '.active'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass TabSwipe {\r\n  constructor (element) {\r\n    this._element = element\r\n\r\n    this._firefox = 'MozAppearance' in document.documentElement.style\r\n\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    if (!('closest' in document.documentElement)) return\r\n\r\n    this._element.addEventListener('touchstart', (ev) => {\r\n      const pane = ev.target.closest('.tab-pane')\r\n      if (!pane) return\r\n      this._startPaneSwipe(ev, pane)\r\n    })\r\n  }\r\n\r\n  _startPaneSwipe (ev, pane) {\r\n    if (!pane.classList.contains('active')) return\r\n\r\n    const curPane = pane\r\n    const isRTL = Util.isRTL()\r\n    const initialTransform = !isRTL ? 'translateX(100%)' : 'translateX(-100%)'\r\n\r\n    const touches = ev.changedTouches[0]\r\n\r\n    let swipeDir = 0\r\n    const x1 = touches.pageX\r\n    const y1 = touches.pageY\r\n    const t1 = Date.now()\r\n\r\n    let lastX = 0\r\n\r\n    let curDir = 0\r\n\r\n    const paneWidth = curPane.clientWidth\r\n    let siblingPane = null\r\n\r\n    const allowedDir = this._element.getAttribute('data-swipe') || null\r\n\r\n    const paneTouchMoveCallback = function (ev) {\r\n      const touches = ev.changedTouches[0]\r\n      const newX = touches.pageX\r\n      const newY = touches.pageY\r\n      lastX = newX\r\n\r\n      if (swipeDir === 0) {\r\n        const diffY = Math.abs(y1 - newY)\r\n        const diffX = Math.abs(x1 - newX)\r\n\r\n        if (diffY > diffX) {\r\n          swipeDir = 2// vertical i.e. scroll\r\n          curPane.removeEventListener('touchmove', paneTouchMoveCallback)\r\n        } else if (diffX > 10) {\r\n          swipeDir = 1// horizontal swipe\r\n        }\r\n      }\r\n      if (swipeDir !== 1) return // return if not horizontal swipe\r\n\r\n      const moveX = parseInt(x1 - newX)\r\n      let newDir = 0\r\n\r\n      if ((allowedDir === null || (allowedDir === 'left')) && ((!isRTL && moveX > 0) || (isRTL && moveX < 0))) newDir = 1\r\n      else if ((allowedDir === null || (allowedDir === 'right')) && ((!isRTL && moveX < 0) || (isRTL && moveX > 0))) newDir = -1\r\n\r\n      if (newDir !== 0 && newDir !== curDir) {\r\n        if (siblingPane !== null) _reset(siblingPane)// undo previous direction for when we change swipe direction before a touchend\r\n        curDir = newDir\r\n\r\n        let targetPane = curPane.getAttribute('data-swipe-' + (curDir === 1 ? 'next' : 'prev'))\r\n        if (targetPane) targetPane = document.querySelector(targetPane)\r\n        siblingPane = targetPane || (curDir === 1 ? curPane.nextElementSibling : curPane.previousElementSibling)\r\n\r\n        if (siblingPane === null || siblingPane === curPane) {\r\n          curDir = 0\r\n        } else {\r\n          curPane.classList.add('tab-swiping')\r\n          siblingPane.classList.add('tab-swiping')\r\n        }\r\n      }\r\n\r\n      const moveXabs = Math.abs(moveX)\r\n      if (curDir !== 0 && moveXabs < paneWidth + 24) { // don't move more than 24px beyond its size\r\n        curPane.style.transform = initialTransform + ' translateX(' + (-1 * moveX) + 'px)'\r\n        siblingPane.style.transform = 'translateX(' + (-1 * moveX) + 'px)'\r\n      } else if (curDir === 0 && moveXabs < 24) {\r\n        curPane.style.transform = initialTransform + ' translateX(' + (-1 * moveX) + 'px)'\r\n      }\r\n    }\r\n\r\n    const paneTouchEndCallback = function (ev) {\r\n      const touches = ev.changedTouches[0] || null\r\n\r\n      const x2 = touches !== null ? touches.pageX : lastX\r\n      const t2 = Date.now()\r\n\r\n      const diff = Math.abs(x2 - x1)\r\n\r\n      _dismiss()\r\n\r\n      if (curDir !== 0 && swipeDir === 1 &&\r\n                                ((diff > paneWidth / 4 || diff > 100) || (diff > paneWidth / 6 && t2 - t1 < 300))\r\n      ) { // if moved more than 1/4 of its width or 100px or 1/6 in less than 300ms\r\n        siblingPane.classList.add('active', 'show')\r\n        curPane.classList.remove('active', 'show')\r\n\r\n        const id1 = curPane.id\r\n        const id2 = siblingPane.id\r\n        document.querySelectorAll('[href=\"#' + id1 + '\"],[data-target=\"#' + id1 + '\"]').forEach(a => a.classList.remove('active'))\r\n\r\n        const newActive = document.querySelectorAll('[href=\"#' + id2 + '\"],[data-target=\"#' + id2 + '\"]')\r\n        newActive.forEach(a => a.classList.add('active'))\r\n\r\n        if (newActive.length > 0) {\r\n          try {\r\n            /* global AceApp */\r\n            const navLinkScroll = new AceApp.NavLinkScroller(newActive[0])\r\n            navLinkScroll._scrollIntoView()\r\n          } catch (err) {\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const _dismiss = function () {\r\n      curPane.removeEventListener('touchmove', paneTouchMoveCallback)\r\n      curPane.removeEventListener('touchend', paneTouchEndCallback)\r\n      curPane.removeEventListener('touchcancel', paneTouchEndCallback)\r\n\r\n      curPane.style.transform = ''\r\n      curPane.classList.remove('tab-swiping')\r\n\r\n      if (siblingPane) {\r\n        siblingPane.style.transform = ''\r\n        siblingPane.classList.remove('tab-swiping')\r\n      }\r\n    }\r\n\r\n    const _reset = function (sibling) {\r\n      sibling.style.transform = ''\r\n      sibling.style.transitionDuration = '0ms' // so when we quickly and frequently swipe left/right without a `touchend`, the other pane moves away (disappears) instantly\r\n      sibling.classList.remove('tab-swiping')\r\n      sibling.offsetHeight\r\n      sibling.style.transitionDuration = ''\r\n    }\r\n\r\n    pane.addEventListener('touchmove', paneTouchMoveCallback)\r\n    pane.addEventListener('touchend', paneTouchEndCallback)\r\n    pane.addEventListener('touchcancel', paneTouchEndCallback)\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = new TabSwipe(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  if (!('ontouchstart' in document.documentElement)) return\r\n  const swipeablePanes = document.querySelectorAll(Selector.TAB_SWIPE)\r\n\r\n  for (let i = 0; i < swipeablePanes.length; i++) {\r\n    const $tabswipe = $(swipeablePanes[i])\r\n    TabSwipe._jQueryInterface.call($tabswipe)\r\n  }\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = TabSwipe._jQueryInterface\r\n  $.fn[NAME].Constructor = TabSwipe\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return TabSwipe._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default TabSwipe\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): scroll-top.js\r\n   Scroll window to top\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceScrollTop'\r\n\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.scrolltop'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  SCROLL_TOP_BTN: '.btn-scroll-up'\r\n}\r\n\r\nconst CLASS_NAME_SHOW = 'scroll-btn-visible'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass ScrollTop {\r\n  constructor (element) {\r\n    this._element = element\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    const _modernBrowser = 'IntersectionObserver' in window\r\n\r\n    this._element.addEventListener('click', (ev) => {\r\n      ev.preventDefault()\r\n\r\n      if (_modernBrowser) this.hide()\r\n      this.scrollToTop()\r\n    })\r\n\r\n    if (!_modernBrowser) {\r\n      // if browser doesn't support `IntersectionObserver`, always show the scroll to top button\r\n      this.show()\r\n    } else {\r\n      const _scrollBtnObserve = document.createElement('DIV')\r\n      _scrollBtnObserve.classList.add('scroll-btn-observe')\r\n      document.body.appendChild(_scrollBtnObserve)\r\n\r\n      const observer = new window.IntersectionObserver(([entry]) => {\r\n        const isObserverOut = entry.intersectionRatio < 1 && entry.boundingClientRect.bottom < 0\r\n        if (isObserverOut) {\r\n          this.show()\r\n        } else {\r\n          this.hide()\r\n        }\r\n      },\r\n      {\r\n        threshold: [1.0],\r\n        delay: 100\r\n      }\r\n      )\r\n\r\n      observer.observe(_scrollBtnObserve)\r\n    }\r\n  }\r\n\r\n  show () {\r\n    this._element.classList.add(CLASS_NAME_SHOW)\r\n  }\r\n\r\n  hide () {\r\n    this._element.classList.remove(CLASS_NAME_SHOW)\r\n  }\r\n\r\n  scrollToTop (smooth = true) {\r\n    // ScrollToOptions parameter may not be supported on some older browsers\r\n    // so we use try/catch block in case of an error\r\n    try {\r\n      smooth = !Util.isReducedMotion() && smooth === true\r\n      window.scroll({\r\n        top: 0,\r\n        behavior: smooth ? 'smooth' : 'auto'\r\n      })\r\n    } catch (e) {\r\n      window.scroll(0, 0)\r\n    }\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = new ScrollTop(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  const scrollTopTopBtn = document.querySelectorAll(Selector.SCROLL_TOP_BTN)\r\n\r\n  for (let i = 0; i < scrollTopTopBtn.length; i++) {\r\n    const $scrollTopBtn = $(scrollTopTopBtn[i])\r\n    ScrollTop._jQueryInterface.call($scrollTopBtn)\r\n  }\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT1 = $.fn[NAME]\r\n  $.fn[NAME] = ScrollTop._jQueryInterface\r\n  $.fn[NAME].Constructor = ScrollTop\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT1\r\n    return ScrollTop._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default ScrollTop\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): sticky.js\r\n   Trigger an event for sticky elements when they become stuck/unstuck\r\n*/\r\n\r\nimport $ from 'jquery'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceSticky'\r\n\r\nconst VERSION = '3.1.1'\r\nconst DATA_KEY = 'ace.sticky'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  STICKY: '[class*=\"sticky-nav\"]'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Sticky {\r\n  constructor (element) {\r\n    this._element = element\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    if (!window.IntersectionObserver) return\r\n    this._initObserver()\r\n\r\n    // add a dummy child to be observed\r\n    // when it goes out of window it means .sticky-nav is sticky now\r\n    // because dummy element is `top: -1px` or when below navbar it's `top : -1 * ($navbar-height + 1px)`;\r\n    const observedChild = document.createElement(this._element.tagName === 'UL' ? 'LI' : 'DIV')\r\n    observedChild.classList.add('sticky-trigger')\r\n    this._element.insertBefore(observedChild, this._element.firstChild)\r\n\r\n    Sticky._observer.observe(observedChild)\r\n\r\n    setTimeout(() => {\r\n      if (observedChild.getBoundingClientRect().bottom < 0) {\r\n        let isSticky = true\r\n        if (isSticky && !this._element.classList.contains('sticky-nav')) {\r\n          const pos = window.getComputedStyle(this._element).position\r\n          if (!(pos === 'sticky' || pos === '-webkit-sticky')) isSticky = false\r\n        }\r\n        const evt = new window.CustomEvent('sticky-change', { detail: { isSticky: isSticky, initialCheck: true } })\r\n        this._element.dispatchEvent(evt)\r\n      }\r\n    }, 200)\r\n  }\r\n\r\n  /// /\r\n  // we use it when a sticky element becomes stuck on top and 1 pixel of it goes out of view (because of top: -1px)\r\n  // so IntersectionObserver is triggered with intersectionRatio < 1 and y < 0\r\n  // then we trigger an event for it, so later we may for example change its classList to update styling\r\n\r\n  _initObserver () {\r\n    if (Sticky._observer !== null) return\r\n    Sticky._observer = new window.IntersectionObserver(([entry]) => {\r\n      let isSticky = entry.intersectionRatio < 1 && entry.boundingClientRect.bottom < 0\r\n\r\n      // isSticky=true means we are at sticky position\r\n      // so if our sticky element is for example 'sticky-nav-md' and we are at sticky position\r\n      // but our window size is above 'md' and therefore CSS rule 'position: sticky' is not applied at all\r\n      // so we check if we are really sticky or not\r\n      const stickyNav = entry.target.parentElement// entry.target is the `.sticky-trigger` and parentElement is the `.sticky-nav` element\r\n\r\n      // check if `position` is actually `sticky` ... for example if we have `.sticky-nav-md`, it will be sticky only on small (md) devices\r\n      if (isSticky && !stickyNav.classList.contains('sticky-nav')) { // don't check `.sticky-nav` element because it's sticky regardless of window size\r\n        const pos = window.getComputedStyle(stickyNav).position\r\n        if (!(pos === 'sticky' || pos === '-webkit-sticky')) isSticky = false\r\n      }\r\n\r\n      const evt = new window.CustomEvent('sticky-change', { detail: { isSticky } })\r\n      stickyNav.dispatchEvent(evt)\r\n    },\r\n    {\r\n      threshold: [1.0],\r\n      delay: 100\r\n    }\r\n    )\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = new Sticky(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nSticky._observer = null// static property\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  const stickyEl = document.querySelectorAll(Selector.STICKY)\r\n\r\n  for (let i = 0; i < stickyEl.length; i++) {\r\n    const $stickyEl = $(stickyEl[i])\r\n    Sticky._jQueryInterface.call($stickyEl)\r\n  }\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT1 = $.fn[NAME]\r\n  $.fn[NAME] = Sticky._jQueryInterface\r\n  $.fn[NAME].Constructor = Sticky\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT1\r\n    return Sticky._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Sticky\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v3.1.1): index.js\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nimport Util from './util'\r\nimport Basic from './general'\r\nimport Scrollbar from './scrollbar'\r\nimport Sidebar from './sidebar'\r\nimport Aside from './aside'\r\nimport Toaster from './toaster'\r\nimport Widget from './widget'\r\nimport FileInput from './fileinput'\r\nimport Wysiwyg from './wysiwyg'\r\nimport { NavTabScroller, NavLinkScroller } from './tab-scroll'\r\nimport TabSwipe from './tab-swipe'\r\nimport ScrollTop from './scroll-top'\r\nimport Sticky from './sticky'\r\n\r\nexport default {\r\n  Util,\r\n  Basic,\r\n  Scrollbar,\r\n  Sidebar,\r\n  Aside,\r\n  Toaster,\r\n  Widget,\r\n  FileInput,\r\n  Wysiwyg,\r\n  NavTabScroller,\r\n  NavLinkScroller,\r\n  TabSwipe,\r\n  ScrollTop,\r\n  Sticky\r\n}\r\n"],"names":["Util","window","matchMedia","matches","document","documentElement","classList","contains","dir","recalc","_scrollbarInfo","scrollDiv","createElement","style","overflow","position","width","height","scrollbar","body","appendChild","getBoundingClientRect","clientWidth","setProperty","thinWidth","CSS","thin","supports","overlay","autohide","removeChild","_supportsTransitionStart","Basic","NodeList","prototype","forEach","Array","_handleAlerts","_handleDropdowns","_handleNavbar","_handleOther","$","addClass","on","e","preventDefault","wrap","parent","collapse","one","remove","_dismissDropdown","menu","closest","dropdown","toggle","find","removeClass","call","target","stopImmediatePropagation","getComputedStyle","display","scrollbarInfo","getScrollbarInfo","add","focus","css","_adjustDropdown","isRTL","isRightAligned","_dir","prop","removeProperty","moveBy","rect","left","parseInt","sw","scrollWidth","right","_closest","ev","originalEvent","propertyName","querySelector","navbar","querySelectorAll","inp","value","addEventListener","msMatchesSelector","_HandleBasics","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","Event","LOAD_DATA_API","Selector","ACE_SCROLL","DATA_ACE_SCROLL","DefaultType","type","smooth","lock","ignore","plugin","options","color","Default","Scrollbar","element","config","_element","_config","_getConfig","enableScrollbars","update","_addNativeScrolls","_preferNativeScrolls","_addPluginScrolls","_height","isNaN","maxHeight","_lock","_smooth","wrapper","firstChild","transition","offsetHeight","_hasScrollbarPlugin","bootstrap","typeCheckConfig","constructor","each","$this","data","getAttribute","length","JSON","parse","TypeError","scrollbars","slice","concat","i","$scrollbars","_jQueryInterface","JQUERY_NO_CONFLICT","fn","Constructor","noConflict","SHOW","HIDE","COLLAPSE","EXPAND","SHOWN","HIDDEN","COLLAPSED","EXPANDED","CLICK_DATA_API","SIDEBAR","DATA_TOGGLE","DATA_TOGGLE_MOBILE","swipe","dismiss","backdrop","gotoactive","subscroll","pullup","ClassName","DESKTOP_HIDE","MOBILE_SHOW","TOGGLING","INNER_HOVER","BACKDROP","HORIZONTAL","Sidebar","_hasTransitionEvent","_hasTransitionEvent2","_isTransitioning","_sidebar","_inner","_scroller","_pullupEnabled","_triggerArray","id","_triggerArrayMobile","_horizontal","_desktopCollapsedClass","_collapsed","_handleTriggerEvents","enableSubmenuToggle","enableSubmenuPullup","scrollToActive","_addTransitionEvent","This","toggleMobile","btn","expand","show","hide","trigger","isDefaultPrevented","_updateTriggerBtns","isReducedMotion","_toggleCompleted","_resetPullUp","_addTransitionEvent2","enableSwipeHide","_toggleMobileCompleted","off","btns","expanded","len","setAttribute","shown","counter","activeElement","tagName","blur","x1","y1","swipeDir","lastX","pushContent","sidebarWidth","touchMoveCallback","touches","changedTouches","newX","pageX","newY","pageY","diffY","Math","abs","diffX","moveX","transform","t1","Date","now","offsetWidth","minWidth","x2","t2","_firefox","_scrollIntoViewOptions","isOpening","navItem","subMenu","eq","navLink","subPos","get","hasClass","not","scrollHeight","clientHeight","overscrollBehavior","setTimeout","scrollIntoView","behavior","block","err","marginProp","submenu","navtxt","wh","diff","bottom","navtxtHeight","diff2","top","active","scrollTop","sidebars","$sidebar","placement","fade","blocking","container","belowNav","aboveNav","scroll","Aside","$element","_init","_setPlacement","attr","extraClass","split","bdc","placementMap","t","tc","tr","tl","b","bc","br","bl","r","rc","l","lc","c","center","className","showEvent","modal","hideEvent","visibleModalSelector","dismissEventId","innerWidth","isModalOff","match","backdropBg","bodyContainer","filter","modalParent","parentNode","modalSibling","nextSibling","appendTo","insertBefore","paddingRight","eid","_HandleAside","CLEAR","ADD","ADDED","close","autoremove","delay","template","alert","Toaster","_lastToastId","_toast","$newToast","role","$toastHeader","title","titleClass","append","closeClass","bodyClass","image","imageClass","icon","headerClass","progress","sticky","progressReverse","_addToContainer","$existingToast","$toast","isNewElement","addEvent","indexOf","prepend","dummy","toast","_toastOptions","animation","addedEvent","instant","hideAll","selector","_hideBySelector","clearEvent","is","aceToaster","addEl","CLOSE","CLOSED","RESTORE","RESTORED","RELOAD","DATA_ACTION","Widget","$box","startLoading","loadingHtml","_closeComplete","next","$body","action","eventName","_toggleIcon","HTMLElement","eventCompleteName","toggleFast","button","animate","$expand","box","placeholder","removeAttribute","nextElementSibling","rect1","event","currentTarget","$actionBtn","$action","aceWidget","INVALID","RESET","PREVIEW_FAILED","persistent","btnChooseClass","btnChangeClass","btnChooseText","btnChangeText","placeholderClass","placeholderText","placeholderIcon","iconClass","reset","resetText","resetIcon","droppable","thumbnail","previewImage","allowExt","denyExt","allowMime","denyMime","maxSize","previewSize","previewWidth","previewHeight","beforeChange","fileIcons","file","video","audio","archive","code","PreviewError","FILE_LOAD_FAILED","IMAGE_LOAD_FAILED","THUMBNAIL_FAILED","FileInput","settings","extend","fileList","selectMethod","_hasMultiple","_hasFileList","_hasFileReader","_hasFile","disabled","canReset","_hasAcceptAttr","aceInnerCall","_handleOnChange","parentLabel","$wrap","_applySettings","_isMulti","_isDropStyle","after","$container","tooltip","resetInput","stopLoading","_enableFileDrop","_setAcceptAttr","$files","innerCall","files","resetInputUI","filename","format","File","trim","name","Object","hasOwnProperty","path","index","lastIndexOf","substr","test","fileIcon","label","canPreview","when","_previewImage","fail","result","resetInputField","resetInputData","formEl","unwrap","removeData","removeAttr","newSettings","loader","empty","dropbox","stopPropagation","dt","dataTransfer","tmpFileList","tmpfiles","push","_processFiles","fileArray","f","showFileList","triggerHandler","$icon","deferred","Deferred","getImage","src","$file","img","imgLoaded","imgFailed","size","min","svg","thumb","_getThumbnail","reject","w","h","max","background","resolve","reader","FileReader","onload","onerror","readAsDataURL","promise","imgWidth","imgHeight","dataURL","canvas","context","getContext","imageSmoothingQuality","drawImage","toDataURL","dropped","ret","_checkFileList","FileList","_getExtRegex","_getMimeRegex","safeFiles","errorList","ext","mime","errorCount","fileCount","invalidCount","isArray","join","replace","accept","RegExp","retval","reteach","wysiwyg","colors","toolbar","toolbarPlacement","toolbarStyle","Wysiwyg","initEditor","toolbarHtml","_createToolbarHtml","before","prev","siblings","which","change","click","self","viewSource","outerWidth","outerHeight","val","html","insertAfter","textarea","$options","activeToolbarClass","toolbarSelector","_handleImages","_buttonDefaults","font","values","fontSize","bold","italic","strikethrough","underline","insertunorderedlist","insertorderedlist","outdent","indent","justifyleft","justifycenter","justifyright","justifyfull","createLink","button_text","button_class","unlink","insertImage","button_insert","button_insert_class","choose_file","foreColor","backColor","removeFormat","undo","redo","toolbarButtons","tb","iconText","currentImg","popover","offset","content","NAME1","NAME2","TAB_SCROLL","ACTIVE","NavTabScroller","navLinkScroll","NavLinkScroller","_scrollIntoView","scrollLeft","enable","li","nav","navClientWidth","navScrollWidth","_scrollLeft","offsetLeft","scrollTo","scrollableNavTabs","$tabscroll","JQUERY_NO_CONFLICT1","JQUERY_NO_CONFLICT2","TAB_SWIPE","TabSwipe","pane","_startPaneSwipe","curPane","initialTransform","curDir","paneWidth","siblingPane","allowedDir","paneTouchMoveCallback","removeEventListener","newDir","_reset","targetPane","previousElementSibling","moveXabs","paneTouchEndCallback","_dismiss","id1","id2","a","newActive","AceApp","sibling","transitionDuration","swipeablePanes","$tabswipe","SCROLL_TOP_BTN","CLASS_NAME_SHOW","ScrollTop","_modernBrowser","scrollToTop","_scrollBtnObserve","observer","IntersectionObserver","entry","isObserverOut","intersectionRatio","boundingClientRect","threshold","observe","scrollTopTopBtn","$scrollTopBtn","STICKY","Sticky","_initObserver","observedChild","_observer","isSticky","pos","evt","CustomEvent","detail","initialCheck","dispatchEvent","stickyNav","parentElement","stickyEl","$stickyEl"],"mappings":"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"}